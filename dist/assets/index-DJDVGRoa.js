(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var He=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ih(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Bu={exports:{}},oi={},Wu={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kn=Symbol.for("react.element"),Rh=Symbol.for("react.portal"),$h=Symbol.for("react.fragment"),Ah=Symbol.for("react.strict_mode"),Lh=Symbol.for("react.profiler"),Uh=Symbol.for("react.provider"),Dh=Symbol.for("react.context"),Mh=Symbol.for("react.forward_ref"),zh=Symbol.for("react.suspense"),Fh=Symbol.for("react.memo"),Bh=Symbol.for("react.lazy"),fl=Symbol.iterator;function Wh(t){return t===null||typeof t!="object"?null:(t=fl&&t[fl]||t["@@iterator"],typeof t=="function"?t:null)}var Hu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vu=Object.assign,qu={};function Jr(t,e,r){this.props=t,this.context=e,this.refs=qu,this.updater=r||Hu}Jr.prototype.isReactComponent={};Jr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Jr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ku(){}Ku.prototype=Jr.prototype;function pa(t,e,r){this.props=t,this.context=e,this.refs=qu,this.updater=r||Hu}var ma=pa.prototype=new Ku;ma.constructor=pa;Vu(ma,Jr.prototype);ma.isPureReactComponent=!0;var pl=Array.isArray,Gu=Object.prototype.hasOwnProperty,ga={current:null},Ju={key:!0,ref:!0,__self:!0,__source:!0};function Qu(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Gu.call(e,n)&&!Ju.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Kn,type:t,key:i,ref:o,props:s,_owner:ga.current}}function Hh(t,e){return{$$typeof:Kn,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function va(t){return typeof t=="object"&&t!==null&&t.$$typeof===Kn}function Vh(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var ml=/\/+/g;function Pi(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Vh(""+t.key):e.toString(36)}function ks(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Kn:case Rh:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+Pi(o,0):n,pl(s)?(r="",t!=null&&(r=t.replace(ml,"$&/")+"/"),ks(s,e,r,"",function(c){return c})):s!=null&&(va(s)&&(s=Hh(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ml,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",pl(t))for(var a=0;a<t.length;a++){i=t[a];var u=n+Pi(i,a);o+=ks(i,e,r,u,s)}else if(u=Wh(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=n+Pi(i,a++),o+=ks(i,e,r,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ts(t,e,r){if(t==null)return t;var n=[],s=0;return ks(t,n,"","",function(i){return e.call(r,i,s++)}),n}function qh(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var be={current:null},Ss={transition:null},Kh={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:Ss,ReactCurrentOwner:ga};function Yu(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:ts,forEach:function(t,e,r){ts(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ts(t,function(){e++}),e},toArray:function(t){return ts(t,function(e){return e})||[]},only:function(t){if(!va(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};B.Component=Jr;B.Fragment=$h;B.Profiler=Lh;B.PureComponent=pa;B.StrictMode=Ah;B.Suspense=zh;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kh;B.act=Yu;B.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Vu({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ga.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)Gu.call(e,u)&&!Ju.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Kn,type:t.type,key:s,ref:i,props:n,_owner:o}};B.createContext=function(t){return t={$$typeof:Dh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Uh,_context:t},t.Consumer=t};B.createElement=Qu;B.createFactory=function(t){var e=Qu.bind(null,t);return e.type=t,e};B.createRef=function(){return{current:null}};B.forwardRef=function(t){return{$$typeof:Mh,render:t}};B.isValidElement=va;B.lazy=function(t){return{$$typeof:Bh,_payload:{_status:-1,_result:t},_init:qh}};B.memo=function(t,e){return{$$typeof:Fh,type:t,compare:e===void 0?null:e}};B.startTransition=function(t){var e=Ss.transition;Ss.transition={};try{t()}finally{Ss.transition=e}};B.unstable_act=Yu;B.useCallback=function(t,e){return be.current.useCallback(t,e)};B.useContext=function(t){return be.current.useContext(t)};B.useDebugValue=function(){};B.useDeferredValue=function(t){return be.current.useDeferredValue(t)};B.useEffect=function(t,e){return be.current.useEffect(t,e)};B.useId=function(){return be.current.useId()};B.useImperativeHandle=function(t,e,r){return be.current.useImperativeHandle(t,e,r)};B.useInsertionEffect=function(t,e){return be.current.useInsertionEffect(t,e)};B.useLayoutEffect=function(t,e){return be.current.useLayoutEffect(t,e)};B.useMemo=function(t,e){return be.current.useMemo(t,e)};B.useReducer=function(t,e,r){return be.current.useReducer(t,e,r)};B.useRef=function(t){return be.current.useRef(t)};B.useState=function(t){return be.current.useState(t)};B.useSyncExternalStore=function(t,e,r){return be.current.useSyncExternalStore(t,e,r)};B.useTransition=function(){return be.current.useTransition()};B.version="18.3.1";Wu.exports=B;var R=Wu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gh=R,Jh=Symbol.for("react.element"),Qh=Symbol.for("react.fragment"),Yh=Object.prototype.hasOwnProperty,Xh=Gh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zh={key:!0,ref:!0,__self:!0,__source:!0};function Xu(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Yh.call(e,n)&&!Zh.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Jh,type:t,key:i,ref:o,props:s,_owner:Xh.current}}oi.Fragment=Qh;oi.jsx=Xu;oi.jsxs=Xu;Bu.exports=oi;var l=Bu.exports,Zu={exports:{}},De={},ec={exports:{}},tc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,P){var N=k.length;k.push(P);e:for(;0<N;){var L=N-1>>>1,D=k[L];if(0<s(D,P))k[L]=P,k[N]=D,N=L;else break e}}function r(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var P=k[0],N=k.pop();if(N!==P){k[0]=N;e:for(var L=0,D=k.length,ke=D>>>1;L<ke;){var oe=2*(L+1)-1,Ke=k[oe],ee=oe+1,ce=k[ee];if(0>s(Ke,N))ee<D&&0>s(ce,Ke)?(k[L]=ce,k[ee]=N,L=ee):(k[L]=Ke,k[oe]=N,L=oe);else if(ee<D&&0>s(ce,N))k[L]=ce,k[ee]=N,L=ee;else break e}}return P}function s(k,P){var N=k.sortIndex-P.sortIndex;return N!==0?N:k.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,h=null,p=3,v=!1,y=!1,w=!1,j=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(k){for(var P=r(c);P!==null;){if(P.callback===null)n(c);else if(P.startTime<=k)n(c),P.sortIndex=P.expirationTime,e(u,P);else break;P=r(c)}}function x(k){if(w=!1,f(k),!y)if(r(u)!==null)y=!0,O(C);else{var P=r(c);P!==null&&A(x,P.startTime-k)}}function C(k,P){y=!1,w&&(w=!1,g(I),I=-1),v=!0;var N=p;try{for(f(P),h=r(u);h!==null&&(!(h.expirationTime>P)||k&&!re());){var L=h.callback;if(typeof L=="function"){h.callback=null,p=h.priorityLevel;var D=L(h.expirationTime<=P);P=t.unstable_now(),typeof D=="function"?h.callback=D:h===r(u)&&n(u),f(P)}else n(u);h=r(u)}if(h!==null)var ke=!0;else{var oe=r(c);oe!==null&&A(x,oe.startTime-P),ke=!1}return ke}finally{h=null,p=N,v=!1}}var b=!1,S=null,I=-1,z=5,U=-1;function re(){return!(t.unstable_now()-U<z)}function st(){if(S!==null){var k=t.unstable_now();U=k;var P=!0;try{P=S(!0,k)}finally{P?_e():(b=!1,S=null)}}else b=!1}var _e;if(typeof m=="function")_e=function(){m(st)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,T=_.port2;_.port1.onmessage=st,_e=function(){T.postMessage(null)}}else _e=function(){j(st,0)};function O(k){S=k,b||(b=!0,_e())}function A(k,P){I=j(function(){k(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,O(C))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(k){switch(p){case 1:case 2:case 3:var P=3;break;default:P=p}var N=p;p=P;try{return k()}finally{p=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,P){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var N=p;p=k;try{return P()}finally{p=N}},t.unstable_scheduleCallback=function(k,P,N){var L=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?L+N:L):N=L,k){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=N+D,k={id:d++,callback:P,priorityLevel:k,startTime:N,expirationTime:D,sortIndex:-1},N>L?(k.sortIndex=N,e(c,k),r(u)===null&&k===r(c)&&(w?(g(I),I=-1):w=!0,A(x,N-L))):(k.sortIndex=D,e(u,k),y||v||(y=!0,O(C))),k},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(k){var P=p;return function(){var N=p;p=P;try{return k.apply(this,arguments)}finally{p=N}}}})(tc);ec.exports=tc;var ef=ec.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tf=R,Ue=ef;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rc=new Set,Pn={};function hr(t,e){Fr(t,e),Fr(t+"Capture",e)}function Fr(t,e){for(Pn[t]=e,t=0;t<e.length;t++)rc.add(e[t])}var wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),co=Object.prototype.hasOwnProperty,rf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gl={},vl={};function nf(t){return co.call(vl,t)?!0:co.call(gl,t)?!1:rf.test(t)?vl[t]=!0:(gl[t]=!0,!1)}function sf(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function of(t,e,r,n){if(e===null||typeof e>"u"||sf(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ne(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ge[t]=new Ne(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ge[e]=new Ne(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ge[t]=new Ne(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ge[t]=new Ne(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ge[t]=new Ne(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ge[t]=new Ne(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ge[t]=new Ne(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ge[t]=new Ne(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ge[t]=new Ne(t,5,!1,t.toLowerCase(),null,!1,!1)});var ya=/[\-:]([a-z])/g;function wa(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ya,wa);ge[e]=new Ne(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ya,wa);ge[e]=new Ne(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ya,wa);ge[e]=new Ne(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ge[t]=new Ne(t,1,!1,t.toLowerCase(),null,!1,!1)});ge.xlinkHref=new Ne("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ge[t]=new Ne(t,1,!1,t.toLowerCase(),null,!0,!0)});function xa(t,e,r,n){var s=ge.hasOwnProperty(e)?ge[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(of(e,r,s,n)&&(r=null),n||s===null?nf(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var St=tf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rs=Symbol.for("react.element"),Sr=Symbol.for("react.portal"),jr=Symbol.for("react.fragment"),_a=Symbol.for("react.strict_mode"),ho=Symbol.for("react.profiler"),nc=Symbol.for("react.provider"),sc=Symbol.for("react.context"),ka=Symbol.for("react.forward_ref"),fo=Symbol.for("react.suspense"),po=Symbol.for("react.suspense_list"),Sa=Symbol.for("react.memo"),Et=Symbol.for("react.lazy"),ic=Symbol.for("react.offscreen"),yl=Symbol.iterator;function rn(t){return t===null||typeof t!="object"?null:(t=yl&&t[yl]||t["@@iterator"],typeof t=="function"?t:null)}var Z=Object.assign,Ti;function hn(t){if(Ti===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Ti=e&&e[1]||""}return`
`+Ti+t}var Oi=!1;function Ii(t,e){if(!t||Oi)return"";Oi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Oi=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?hn(t):""}function af(t){switch(t.tag){case 5:return hn(t.type);case 16:return hn("Lazy");case 13:return hn("Suspense");case 19:return hn("SuspenseList");case 0:case 2:case 15:return t=Ii(t.type,!1),t;case 11:return t=Ii(t.type.render,!1),t;case 1:return t=Ii(t.type,!0),t;default:return""}}function mo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case jr:return"Fragment";case Sr:return"Portal";case ho:return"Profiler";case _a:return"StrictMode";case fo:return"Suspense";case po:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sc:return(t.displayName||"Context")+".Consumer";case nc:return(t._context.displayName||"Context")+".Provider";case ka:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Sa:return e=t.displayName||null,e!==null?e:mo(t.type)||"Memo";case Et:e=t._payload,t=t._init;try{return mo(t(e))}catch{}}return null}function lf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mo(e);case 8:return e===_a?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Wt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function oc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uf(t){var e=oc(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ns(t){t._valueTracker||(t._valueTracker=uf(t))}function ac(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=oc(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function $s(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function go(t,e){var r=e.checked;return Z({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function wl(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Wt(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function lc(t,e){e=e.checked,e!=null&&xa(t,"checked",e,!1)}function vo(t,e){lc(t,e);var r=Wt(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yo(t,e.type,r):e.hasOwnProperty("defaultValue")&&yo(t,e.type,Wt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xl(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function yo(t,e,r){(e!=="number"||$s(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var fn=Array.isArray;function Ar(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Wt(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function wo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return Z({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _l(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(E(92));if(fn(r)){if(1<r.length)throw Error(E(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Wt(r)}}function uc(t,e){var r=Wt(e.value),n=Wt(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function kl(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function cc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?cc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ss,dc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ss=ss||document.createElement("div"),ss.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ss.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Tn(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var vn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cf=["Webkit","ms","Moz","O"];Object.keys(vn).forEach(function(t){cf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vn[e]=vn[t]})});function hc(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||vn.hasOwnProperty(t)&&vn[t]?(""+e).trim():e+"px"}function fc(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=hc(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var df=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _o(t,e){if(e){if(df[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function ko(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var So=null;function ja(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jo=null,Lr=null,Ur=null;function Sl(t){if(t=Qn(t)){if(typeof jo!="function")throw Error(E(280));var e=t.stateNode;e&&(e=di(e),jo(t.stateNode,t.type,e))}}function pc(t){Lr?Ur?Ur.push(t):Ur=[t]:Lr=t}function mc(){if(Lr){var t=Lr,e=Ur;if(Ur=Lr=null,Sl(t),e)for(t=0;t<e.length;t++)Sl(e[t])}}function gc(t,e){return t(e)}function vc(){}var Ri=!1;function yc(t,e,r){if(Ri)return t(e,r);Ri=!0;try{return gc(t,e,r)}finally{Ri=!1,(Lr!==null||Ur!==null)&&(vc(),mc())}}function On(t,e){var r=t.stateNode;if(r===null)return null;var n=di(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(E(231,e,typeof r));return r}var bo=!1;if(wt)try{var nn={};Object.defineProperty(nn,"passive",{get:function(){bo=!0}}),window.addEventListener("test",nn,nn),window.removeEventListener("test",nn,nn)}catch{bo=!1}function hf(t,e,r,n,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var yn=!1,As=null,Ls=!1,No=null,ff={onError:function(t){yn=!0,As=t}};function pf(t,e,r,n,s,i,o,a,u){yn=!1,As=null,hf.apply(ff,arguments)}function mf(t,e,r,n,s,i,o,a,u){if(pf.apply(this,arguments),yn){if(yn){var c=As;yn=!1,As=null}else throw Error(E(198));Ls||(Ls=!0,No=c)}}function fr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function wc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function jl(t){if(fr(t)!==t)throw Error(E(188))}function gf(t){var e=t.alternate;if(!e){if(e=fr(t),e===null)throw Error(E(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return jl(s),t;if(i===n)return jl(s),e;i=i.sibling}throw Error(E(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(E(189))}}if(r.alternate!==n)throw Error(E(190))}if(r.tag!==3)throw Error(E(188));return r.stateNode.current===r?t:e}function xc(t){return t=gf(t),t!==null?_c(t):null}function _c(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=_c(t);if(e!==null)return e;t=t.sibling}return null}var kc=Ue.unstable_scheduleCallback,bl=Ue.unstable_cancelCallback,vf=Ue.unstable_shouldYield,yf=Ue.unstable_requestPaint,ne=Ue.unstable_now,wf=Ue.unstable_getCurrentPriorityLevel,ba=Ue.unstable_ImmediatePriority,Sc=Ue.unstable_UserBlockingPriority,Us=Ue.unstable_NormalPriority,xf=Ue.unstable_LowPriority,jc=Ue.unstable_IdlePriority,ai=null,lt=null;function _f(t){if(lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(ai,t,void 0,(t.current.flags&128)===128)}catch{}}var tt=Math.clz32?Math.clz32:jf,kf=Math.log,Sf=Math.LN2;function jf(t){return t>>>=0,t===0?32:31-(kf(t)/Sf|0)|0}var is=64,os=4194304;function pn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ds(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=pn(a):(i&=o,i!==0&&(n=pn(i)))}else o=r&~s,o!==0?n=pn(o):i!==0&&(n=pn(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-tt(e),s=1<<r,n|=t[r],e&=~s;return n}function bf(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nf(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-tt(i),a=1<<o,u=s[o];u===-1?(!(a&r)||a&n)&&(s[o]=bf(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function Eo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bc(){var t=is;return is<<=1,!(is&4194240)&&(is=64),t}function $i(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Gn(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tt(e),t[e]=r}function Ef(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-tt(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Na(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-tt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var H=0;function Nc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ec,Ea,Cc,Pc,Tc,Co=!1,as=[],At=null,Lt=null,Ut=null,In=new Map,Rn=new Map,Pt=[],Cf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nl(t,e){switch(t){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Lt=null;break;case"mouseover":case"mouseout":Ut=null;break;case"pointerover":case"pointerout":In.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rn.delete(e.pointerId)}}function sn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Qn(e),e!==null&&Ea(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Pf(t,e,r,n,s){switch(e){case"focusin":return At=sn(At,t,e,r,n,s),!0;case"dragenter":return Lt=sn(Lt,t,e,r,n,s),!0;case"mouseover":return Ut=sn(Ut,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return In.set(i,sn(In.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Rn.set(i,sn(Rn.get(i)||null,t,e,r,n,s)),!0}return!1}function Oc(t){var e=tr(t.target);if(e!==null){var r=fr(e);if(r!==null){if(e=r.tag,e===13){if(e=wc(r),e!==null){t.blockedOn=e,Tc(t.priority,function(){Cc(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function js(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Po(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);So=n,r.target.dispatchEvent(n),So=null}else return e=Qn(r),e!==null&&Ea(e),t.blockedOn=r,!1;e.shift()}return!0}function El(t,e,r){js(t)&&r.delete(e)}function Tf(){Co=!1,At!==null&&js(At)&&(At=null),Lt!==null&&js(Lt)&&(Lt=null),Ut!==null&&js(Ut)&&(Ut=null),In.forEach(El),Rn.forEach(El)}function on(t,e){t.blockedOn===e&&(t.blockedOn=null,Co||(Co=!0,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,Tf)))}function $n(t){function e(s){return on(s,t)}if(0<as.length){on(as[0],t);for(var r=1;r<as.length;r++){var n=as[r];n.blockedOn===t&&(n.blockedOn=null)}}for(At!==null&&on(At,t),Lt!==null&&on(Lt,t),Ut!==null&&on(Ut,t),In.forEach(e),Rn.forEach(e),r=0;r<Pt.length;r++)n=Pt[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Pt.length&&(r=Pt[0],r.blockedOn===null);)Oc(r),r.blockedOn===null&&Pt.shift()}var Dr=St.ReactCurrentBatchConfig,Ms=!0;function Of(t,e,r,n){var s=H,i=Dr.transition;Dr.transition=null;try{H=1,Ca(t,e,r,n)}finally{H=s,Dr.transition=i}}function If(t,e,r,n){var s=H,i=Dr.transition;Dr.transition=null;try{H=4,Ca(t,e,r,n)}finally{H=s,Dr.transition=i}}function Ca(t,e,r,n){if(Ms){var s=Po(t,e,r,n);if(s===null)Hi(t,e,n,zs,r),Nl(t,n);else if(Pf(s,t,e,r,n))n.stopPropagation();else if(Nl(t,n),e&4&&-1<Cf.indexOf(t)){for(;s!==null;){var i=Qn(s);if(i!==null&&Ec(i),i=Po(t,e,r,n),i===null&&Hi(t,e,n,zs,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Hi(t,e,n,null,r)}}var zs=null;function Po(t,e,r,n){if(zs=null,t=ja(n),t=tr(t),t!==null)if(e=fr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=wc(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return zs=t,null}function Ic(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wf()){case ba:return 1;case Sc:return 4;case Us:case xf:return 16;case jc:return 536870912;default:return 16}default:return 16}}var It=null,Pa=null,bs=null;function Rc(){if(bs)return bs;var t,e=Pa,r=e.length,n,s="value"in It?It.value:It.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return bs=s.slice(t,1<n?1-n:void 0)}function Ns(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ls(){return!0}function Cl(){return!1}function Me(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ls:Cl,this.isPropagationStopped=Cl,this}return Z(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),e}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ta=Me(Qr),Jn=Z({},Qr,{view:0,detail:0}),Rf=Me(Jn),Ai,Li,an,li=Z({},Jn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==an&&(an&&t.type==="mousemove"?(Ai=t.screenX-an.screenX,Li=t.screenY-an.screenY):Li=Ai=0,an=t),Ai)},movementY:function(t){return"movementY"in t?t.movementY:Li}}),Pl=Me(li),$f=Z({},li,{dataTransfer:0}),Af=Me($f),Lf=Z({},Jn,{relatedTarget:0}),Ui=Me(Lf),Uf=Z({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),Df=Me(Uf),Mf=Z({},Qr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zf=Me(Mf),Ff=Z({},Qr,{data:0}),Tl=Me(Ff),Bf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vf(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Hf[t])?!!e[t]:!1}function Oa(){return Vf}var qf=Z({},Jn,{key:function(t){if(t.key){var e=Bf[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ns(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Wf[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oa,charCode:function(t){return t.type==="keypress"?Ns(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ns(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Kf=Me(qf),Gf=Z({},li,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ol=Me(Gf),Jf=Z({},Jn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oa}),Qf=Me(Jf),Yf=Z({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xf=Me(Yf),Zf=Z({},li,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ep=Me(Zf),tp=[9,13,27,32],Ia=wt&&"CompositionEvent"in window,wn=null;wt&&"documentMode"in document&&(wn=document.documentMode);var rp=wt&&"TextEvent"in window&&!wn,$c=wt&&(!Ia||wn&&8<wn&&11>=wn),Il=" ",Rl=!1;function Ac(t,e){switch(t){case"keyup":return tp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var br=!1;function np(t,e){switch(t){case"compositionend":return Lc(e);case"keypress":return e.which!==32?null:(Rl=!0,Il);case"textInput":return t=e.data,t===Il&&Rl?null:t;default:return null}}function sp(t,e){if(br)return t==="compositionend"||!Ia&&Ac(t,e)?(t=Rc(),bs=Pa=It=null,br=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $c&&e.locale!=="ko"?null:e.data;default:return null}}var ip={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $l(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ip[t.type]:e==="textarea"}function Uc(t,e,r,n){pc(n),e=Fs(e,"onChange"),0<e.length&&(r=new Ta("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var xn=null,An=null;function op(t){Gc(t,0)}function ui(t){var e=Cr(t);if(ac(e))return t}function ap(t,e){if(t==="change")return e}var Dc=!1;if(wt){var Di;if(wt){var Mi="oninput"in document;if(!Mi){var Al=document.createElement("div");Al.setAttribute("oninput","return;"),Mi=typeof Al.oninput=="function"}Di=Mi}else Di=!1;Dc=Di&&(!document.documentMode||9<document.documentMode)}function Ll(){xn&&(xn.detachEvent("onpropertychange",Mc),An=xn=null)}function Mc(t){if(t.propertyName==="value"&&ui(An)){var e=[];Uc(e,An,t,ja(t)),yc(op,e)}}function lp(t,e,r){t==="focusin"?(Ll(),xn=e,An=r,xn.attachEvent("onpropertychange",Mc)):t==="focusout"&&Ll()}function up(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ui(An)}function cp(t,e){if(t==="click")return ui(e)}function dp(t,e){if(t==="input"||t==="change")return ui(e)}function hp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nt=typeof Object.is=="function"?Object.is:hp;function Ln(t,e){if(nt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!co.call(e,s)||!nt(t[s],e[s]))return!1}return!0}function Ul(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dl(t,e){var r=Ul(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ul(r)}}function zc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Fc(){for(var t=window,e=$s();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=$s(t.document)}return e}function Ra(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function fp(t){var e=Fc(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&zc(r.ownerDocument.documentElement,r)){if(n!==null&&Ra(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Dl(r,i);var o=Dl(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pp=wt&&"documentMode"in document&&11>=document.documentMode,Nr=null,To=null,_n=null,Oo=!1;function Ml(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Oo||Nr==null||Nr!==$s(n)||(n=Nr,"selectionStart"in n&&Ra(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),_n&&Ln(_n,n)||(_n=n,n=Fs(To,"onSelect"),0<n.length&&(e=new Ta("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Nr)))}function us(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Er={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionend:us("Transition","TransitionEnd")},zi={},Bc={};wt&&(Bc=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);function ci(t){if(zi[t])return zi[t];if(!Er[t])return t;var e=Er[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Bc)return zi[t]=e[r];return t}var Wc=ci("animationend"),Hc=ci("animationiteration"),Vc=ci("animationstart"),qc=ci("transitionend"),Kc=new Map,zl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vt(t,e){Kc.set(t,e),hr(e,[t])}for(var Fi=0;Fi<zl.length;Fi++){var Bi=zl[Fi],mp=Bi.toLowerCase(),gp=Bi[0].toUpperCase()+Bi.slice(1);Vt(mp,"on"+gp)}Vt(Wc,"onAnimationEnd");Vt(Hc,"onAnimationIteration");Vt(Vc,"onAnimationStart");Vt("dblclick","onDoubleClick");Vt("focusin","onFocus");Vt("focusout","onBlur");Vt(qc,"onTransitionEnd");Fr("onMouseEnter",["mouseout","mouseover"]);Fr("onMouseLeave",["mouseout","mouseover"]);Fr("onPointerEnter",["pointerout","pointerover"]);Fr("onPointerLeave",["pointerout","pointerover"]);hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hr("onBeforeInput",["compositionend","keypress","textInput","paste"]);hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vp=new Set("cancel close invalid load scroll toggle".split(" ").concat(mn));function Fl(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,mf(n,e,void 0,t),t.currentTarget=null}function Gc(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;Fl(s,a,c),i=u}else for(o=0;o<n.length;o++){if(a=n[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;Fl(s,a,c),i=u}}}if(Ls)throw t=No,Ls=!1,No=null,t}function G(t,e){var r=e[Lo];r===void 0&&(r=e[Lo]=new Set);var n=t+"__bubble";r.has(n)||(Jc(e,t,2,!1),r.add(n))}function Wi(t,e,r){var n=0;e&&(n|=4),Jc(r,t,n,e)}var cs="_reactListening"+Math.random().toString(36).slice(2);function Un(t){if(!t[cs]){t[cs]=!0,rc.forEach(function(r){r!=="selectionchange"&&(vp.has(r)||Wi(r,!1,t),Wi(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[cs]||(e[cs]=!0,Wi("selectionchange",!1,e))}}function Jc(t,e,r,n){switch(Ic(e)){case 1:var s=Of;break;case 4:s=If;break;default:s=Ca}r=s.bind(null,e,r,t),s=void 0,!bo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Hi(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=tr(a),o===null)return;if(u=o.tag,u===5||u===6){n=i=o;continue e}a=a.parentNode}}n=n.return}yc(function(){var c=i,d=ja(r),h=[];e:{var p=Kc.get(t);if(p!==void 0){var v=Ta,y=t;switch(t){case"keypress":if(Ns(r)===0)break e;case"keydown":case"keyup":v=Kf;break;case"focusin":y="focus",v=Ui;break;case"focusout":y="blur",v=Ui;break;case"beforeblur":case"afterblur":v=Ui;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Af;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Qf;break;case Wc:case Hc:case Vc:v=Df;break;case qc:v=Xf;break;case"scroll":v=Rf;break;case"wheel":v=ep;break;case"copy":case"cut":case"paste":v=zf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ol}var w=(e&4)!==0,j=!w&&t==="scroll",g=w?p!==null?p+"Capture":null:p;w=[];for(var m=c,f;m!==null;){f=m;var x=f.stateNode;if(f.tag===5&&x!==null&&(f=x,g!==null&&(x=On(m,g),x!=null&&w.push(Dn(m,x,f)))),j)break;m=m.return}0<w.length&&(p=new v(p,y,null,r,d),h.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&r!==So&&(y=r.relatedTarget||r.fromElement)&&(tr(y)||y[xt]))break e;if((v||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,v?(y=r.relatedTarget||r.toElement,v=c,y=y?tr(y):null,y!==null&&(j=fr(y),y!==j||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=c),v!==y)){if(w=Pl,x="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(w=Ol,x="onPointerLeave",g="onPointerEnter",m="pointer"),j=v==null?p:Cr(v),f=y==null?p:Cr(y),p=new w(x,m+"leave",v,r,d),p.target=j,p.relatedTarget=f,x=null,tr(d)===c&&(w=new w(g,m+"enter",y,r,d),w.target=f,w.relatedTarget=j,x=w),j=x,v&&y)t:{for(w=v,g=y,m=0,f=w;f;f=mr(f))m++;for(f=0,x=g;x;x=mr(x))f++;for(;0<m-f;)w=mr(w),m--;for(;0<f-m;)g=mr(g),f--;for(;m--;){if(w===g||g!==null&&w===g.alternate)break t;w=mr(w),g=mr(g)}w=null}else w=null;v!==null&&Bl(h,p,v,w,!1),y!==null&&j!==null&&Bl(h,j,y,w,!0)}}e:{if(p=c?Cr(c):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var C=ap;else if($l(p))if(Dc)C=dp;else{C=up;var b=lp}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=cp);if(C&&(C=C(t,c))){Uc(h,C,r,d);break e}b&&b(t,p,c),t==="focusout"&&(b=p._wrapperState)&&b.controlled&&p.type==="number"&&yo(p,"number",p.value)}switch(b=c?Cr(c):window,t){case"focusin":($l(b)||b.contentEditable==="true")&&(Nr=b,To=c,_n=null);break;case"focusout":_n=To=Nr=null;break;case"mousedown":Oo=!0;break;case"contextmenu":case"mouseup":case"dragend":Oo=!1,Ml(h,r,d);break;case"selectionchange":if(pp)break;case"keydown":case"keyup":Ml(h,r,d)}var S;if(Ia)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else br?Ac(t,r)&&(I="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(I="onCompositionStart");I&&($c&&r.locale!=="ko"&&(br||I!=="onCompositionStart"?I==="onCompositionEnd"&&br&&(S=Rc()):(It=d,Pa="value"in It?It.value:It.textContent,br=!0)),b=Fs(c,I),0<b.length&&(I=new Tl(I,t,null,r,d),h.push({event:I,listeners:b}),S?I.data=S:(S=Lc(r),S!==null&&(I.data=S)))),(S=rp?np(t,r):sp(t,r))&&(c=Fs(c,"onBeforeInput"),0<c.length&&(d=new Tl("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=S))}Gc(h,e)})}function Dn(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Fs(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=On(t,r),i!=null&&n.unshift(Dn(t,i,s)),i=On(t,e),i!=null&&n.push(Dn(t,i,s))),t=t.return}return n}function mr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Bl(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,u=a.alternate,c=a.stateNode;if(u!==null&&u===n)break;a.tag===5&&c!==null&&(a=c,s?(u=On(r,i),u!=null&&o.unshift(Dn(r,u,a))):s||(u=On(r,i),u!=null&&o.push(Dn(r,u,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var yp=/\r\n?/g,wp=/\u0000|\uFFFD/g;function Wl(t){return(typeof t=="string"?t:""+t).replace(yp,`
`).replace(wp,"")}function ds(t,e,r){if(e=Wl(e),Wl(t)!==e&&r)throw Error(E(425))}function Bs(){}var Io=null,Ro=null;function $o(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ao=typeof setTimeout=="function"?setTimeout:void 0,xp=typeof clearTimeout=="function"?clearTimeout:void 0,Hl=typeof Promise=="function"?Promise:void 0,_p=typeof queueMicrotask=="function"?queueMicrotask:typeof Hl<"u"?function(t){return Hl.resolve(null).then(t).catch(kp)}:Ao;function kp(t){setTimeout(function(){throw t})}function Vi(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),$n(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);$n(e)}function Dt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Vl(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Yr=Math.random().toString(36).slice(2),at="__reactFiber$"+Yr,Mn="__reactProps$"+Yr,xt="__reactContainer$"+Yr,Lo="__reactEvents$"+Yr,Sp="__reactListeners$"+Yr,jp="__reactHandles$"+Yr;function tr(t){var e=t[at];if(e)return e;for(var r=t.parentNode;r;){if(e=r[xt]||r[at]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Vl(t);t!==null;){if(r=t[at])return r;t=Vl(t)}return e}t=r,r=t.parentNode}return null}function Qn(t){return t=t[at]||t[xt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Cr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function di(t){return t[Mn]||null}var Uo=[],Pr=-1;function qt(t){return{current:t}}function J(t){0>Pr||(t.current=Uo[Pr],Uo[Pr]=null,Pr--)}function K(t,e){Pr++,Uo[Pr]=t.current,t.current=e}var Ht={},xe=qt(Ht),Oe=qt(!1),or=Ht;function Br(t,e){var r=t.type.contextTypes;if(!r)return Ht;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ie(t){return t=t.childContextTypes,t!=null}function Ws(){J(Oe),J(xe)}function ql(t,e,r){if(xe.current!==Ht)throw Error(E(168));K(xe,e),K(Oe,r)}function Qc(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(E(108,lf(t)||"Unknown",s));return Z({},r,n)}function Hs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ht,or=xe.current,K(xe,t),K(Oe,Oe.current),!0}function Kl(t,e,r){var n=t.stateNode;if(!n)throw Error(E(169));r?(t=Qc(t,e,or),n.__reactInternalMemoizedMergedChildContext=t,J(Oe),J(xe),K(xe,t)):J(Oe),K(Oe,r)}var mt=null,hi=!1,qi=!1;function Yc(t){mt===null?mt=[t]:mt.push(t)}function bp(t){hi=!0,Yc(t)}function Kt(){if(!qi&&mt!==null){qi=!0;var t=0,e=H;try{var r=mt;for(H=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}mt=null,hi=!1}catch(s){throw mt!==null&&(mt=mt.slice(t+1)),kc(ba,Kt),s}finally{H=e,qi=!1}}return null}var Tr=[],Or=0,Vs=null,qs=0,ze=[],Fe=0,ar=null,gt=1,vt="";function Yt(t,e){Tr[Or++]=qs,Tr[Or++]=Vs,Vs=t,qs=e}function Xc(t,e,r){ze[Fe++]=gt,ze[Fe++]=vt,ze[Fe++]=ar,ar=t;var n=gt;t=vt;var s=32-tt(n)-1;n&=~(1<<s),r+=1;var i=32-tt(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,gt=1<<32-tt(e)+s|r<<s|n,vt=i+t}else gt=1<<i|r<<s|n,vt=t}function $a(t){t.return!==null&&(Yt(t,1),Xc(t,1,0))}function Aa(t){for(;t===Vs;)Vs=Tr[--Or],Tr[Or]=null,qs=Tr[--Or],Tr[Or]=null;for(;t===ar;)ar=ze[--Fe],ze[Fe]=null,vt=ze[--Fe],ze[Fe]=null,gt=ze[--Fe],ze[Fe]=null}var Le=null,Ae=null,Q=!1,et=null;function Zc(t,e){var r=Be(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Gl(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Le=t,Ae=Dt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Le=t,Ae=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ar!==null?{id:gt,overflow:vt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Be(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Le=t,Ae=null,!0):!1;default:return!1}}function Do(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Mo(t){if(Q){var e=Ae;if(e){var r=e;if(!Gl(t,e)){if(Do(t))throw Error(E(418));e=Dt(r.nextSibling);var n=Le;e&&Gl(t,e)?Zc(n,r):(t.flags=t.flags&-4097|2,Q=!1,Le=t)}}else{if(Do(t))throw Error(E(418));t.flags=t.flags&-4097|2,Q=!1,Le=t}}}function Jl(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Le=t}function hs(t){if(t!==Le)return!1;if(!Q)return Jl(t),Q=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$o(t.type,t.memoizedProps)),e&&(e=Ae)){if(Do(t))throw ed(),Error(E(418));for(;e;)Zc(t,e),e=Dt(e.nextSibling)}if(Jl(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ae=Dt(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ae=null}}else Ae=Le?Dt(t.stateNode.nextSibling):null;return!0}function ed(){for(var t=Ae;t;)t=Dt(t.nextSibling)}function Wr(){Ae=Le=null,Q=!1}function La(t){et===null?et=[t]:et.push(t)}var Np=St.ReactCurrentBatchConfig;function ln(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(E(309));var n=r.stateNode}if(!n)throw Error(E(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(E(284));if(!r._owner)throw Error(E(290,t))}return t}function fs(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ql(t){var e=t._init;return e(t._payload)}function td(t){function e(g,m){if(t){var f=g.deletions;f===null?(g.deletions=[m],g.flags|=16):f.push(m)}}function r(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function n(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=Bt(g,m),g.index=0,g.sibling=null,g}function i(g,m,f){return g.index=f,t?(f=g.alternate,f!==null?(f=f.index,f<m?(g.flags|=2,m):f):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,m,f,x){return m===null||m.tag!==6?(m=Zi(f,g.mode,x),m.return=g,m):(m=s(m,f),m.return=g,m)}function u(g,m,f,x){var C=f.type;return C===jr?d(g,m,f.props.children,x,f.key):m!==null&&(m.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Et&&Ql(C)===m.type)?(x=s(m,f.props),x.ref=ln(g,m,f),x.return=g,x):(x=Rs(f.type,f.key,f.props,null,g.mode,x),x.ref=ln(g,m,f),x.return=g,x)}function c(g,m,f,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==f.containerInfo||m.stateNode.implementation!==f.implementation?(m=eo(f,g.mode,x),m.return=g,m):(m=s(m,f.children||[]),m.return=g,m)}function d(g,m,f,x,C){return m===null||m.tag!==7?(m=ir(f,g.mode,x,C),m.return=g,m):(m=s(m,f),m.return=g,m)}function h(g,m,f){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Zi(""+m,g.mode,f),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case rs:return f=Rs(m.type,m.key,m.props,null,g.mode,f),f.ref=ln(g,null,m),f.return=g,f;case Sr:return m=eo(m,g.mode,f),m.return=g,m;case Et:var x=m._init;return h(g,x(m._payload),f)}if(fn(m)||rn(m))return m=ir(m,g.mode,f,null),m.return=g,m;fs(g,m)}return null}function p(g,m,f,x){var C=m!==null?m.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return C!==null?null:a(g,m,""+f,x);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case rs:return f.key===C?u(g,m,f,x):null;case Sr:return f.key===C?c(g,m,f,x):null;case Et:return C=f._init,p(g,m,C(f._payload),x)}if(fn(f)||rn(f))return C!==null?null:d(g,m,f,x,null);fs(g,f)}return null}function v(g,m,f,x,C){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(f)||null,a(m,g,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case rs:return g=g.get(x.key===null?f:x.key)||null,u(m,g,x,C);case Sr:return g=g.get(x.key===null?f:x.key)||null,c(m,g,x,C);case Et:var b=x._init;return v(g,m,f,b(x._payload),C)}if(fn(x)||rn(x))return g=g.get(f)||null,d(m,g,x,C,null);fs(m,x)}return null}function y(g,m,f,x){for(var C=null,b=null,S=m,I=m=0,z=null;S!==null&&I<f.length;I++){S.index>I?(z=S,S=null):z=S.sibling;var U=p(g,S,f[I],x);if(U===null){S===null&&(S=z);break}t&&S&&U.alternate===null&&e(g,S),m=i(U,m,I),b===null?C=U:b.sibling=U,b=U,S=z}if(I===f.length)return r(g,S),Q&&Yt(g,I),C;if(S===null){for(;I<f.length;I++)S=h(g,f[I],x),S!==null&&(m=i(S,m,I),b===null?C=S:b.sibling=S,b=S);return Q&&Yt(g,I),C}for(S=n(g,S);I<f.length;I++)z=v(S,g,I,f[I],x),z!==null&&(t&&z.alternate!==null&&S.delete(z.key===null?I:z.key),m=i(z,m,I),b===null?C=z:b.sibling=z,b=z);return t&&S.forEach(function(re){return e(g,re)}),Q&&Yt(g,I),C}function w(g,m,f,x){var C=rn(f);if(typeof C!="function")throw Error(E(150));if(f=C.call(f),f==null)throw Error(E(151));for(var b=C=null,S=m,I=m=0,z=null,U=f.next();S!==null&&!U.done;I++,U=f.next()){S.index>I?(z=S,S=null):z=S.sibling;var re=p(g,S,U.value,x);if(re===null){S===null&&(S=z);break}t&&S&&re.alternate===null&&e(g,S),m=i(re,m,I),b===null?C=re:b.sibling=re,b=re,S=z}if(U.done)return r(g,S),Q&&Yt(g,I),C;if(S===null){for(;!U.done;I++,U=f.next())U=h(g,U.value,x),U!==null&&(m=i(U,m,I),b===null?C=U:b.sibling=U,b=U);return Q&&Yt(g,I),C}for(S=n(g,S);!U.done;I++,U=f.next())U=v(S,g,I,U.value,x),U!==null&&(t&&U.alternate!==null&&S.delete(U.key===null?I:U.key),m=i(U,m,I),b===null?C=U:b.sibling=U,b=U);return t&&S.forEach(function(st){return e(g,st)}),Q&&Yt(g,I),C}function j(g,m,f,x){if(typeof f=="object"&&f!==null&&f.type===jr&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case rs:e:{for(var C=f.key,b=m;b!==null;){if(b.key===C){if(C=f.type,C===jr){if(b.tag===7){r(g,b.sibling),m=s(b,f.props.children),m.return=g,g=m;break e}}else if(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Et&&Ql(C)===b.type){r(g,b.sibling),m=s(b,f.props),m.ref=ln(g,b,f),m.return=g,g=m;break e}r(g,b);break}else e(g,b);b=b.sibling}f.type===jr?(m=ir(f.props.children,g.mode,x,f.key),m.return=g,g=m):(x=Rs(f.type,f.key,f.props,null,g.mode,x),x.ref=ln(g,m,f),x.return=g,g=x)}return o(g);case Sr:e:{for(b=f.key;m!==null;){if(m.key===b)if(m.tag===4&&m.stateNode.containerInfo===f.containerInfo&&m.stateNode.implementation===f.implementation){r(g,m.sibling),m=s(m,f.children||[]),m.return=g,g=m;break e}else{r(g,m);break}else e(g,m);m=m.sibling}m=eo(f,g.mode,x),m.return=g,g=m}return o(g);case Et:return b=f._init,j(g,m,b(f._payload),x)}if(fn(f))return y(g,m,f,x);if(rn(f))return w(g,m,f,x);fs(g,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,m!==null&&m.tag===6?(r(g,m.sibling),m=s(m,f),m.return=g,g=m):(r(g,m),m=Zi(f,g.mode,x),m.return=g,g=m),o(g)):r(g,m)}return j}var Hr=td(!0),rd=td(!1),Ks=qt(null),Gs=null,Ir=null,Ua=null;function Da(){Ua=Ir=Gs=null}function Ma(t){var e=Ks.current;J(Ks),t._currentValue=e}function zo(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Mr(t,e){Gs=t,Ua=Ir=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Te=!0),t.firstContext=null)}function Ve(t){var e=t._currentValue;if(Ua!==t)if(t={context:t,memoizedValue:e,next:null},Ir===null){if(Gs===null)throw Error(E(308));Ir=t,Gs.dependencies={lanes:0,firstContext:t}}else Ir=Ir.next=t;return e}var rr=null;function za(t){rr===null?rr=[t]:rr.push(t)}function nd(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,za(e)):(r.next=s.next,s.next=r),e.interleaved=r,_t(t,n)}function _t(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ct=!1;function Fa(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Mt(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,W&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,_t(t,r)}return s=n.interleaved,s===null?(e.next=e,za(n)):(e.next=s.next,s.next=e),n.interleaved=e,_t(t,r)}function Es(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Na(t,r)}}function Yl(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Js(t,e,r,n){var s=t.updateQueue;Ct=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;o=0,d=c=u=null,a=i;do{var p=a.lane,v=a.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(p=e,v=r,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(v,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,p=typeof y=="function"?y.call(v,h,p):y,p==null)break e;h=Z({},h,p);break e;case 2:Ct=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else v={eventTime:v,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=v,u=h):d=d.next=v,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ur|=o,t.lanes=o,t.memoizedState=h}}function Xl(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(E(191,s));s.call(n)}}}var Yn={},ut=qt(Yn),zn=qt(Yn),Fn=qt(Yn);function nr(t){if(t===Yn)throw Error(E(174));return t}function Ba(t,e){switch(K(Fn,e),K(zn,t),K(ut,Yn),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=xo(e,t)}J(ut),K(ut,e)}function Vr(){J(ut),J(zn),J(Fn)}function id(t){nr(Fn.current);var e=nr(ut.current),r=xo(e,t.type);e!==r&&(K(zn,t),K(ut,r))}function Wa(t){zn.current===t&&(J(ut),J(zn))}var Y=qt(0);function Qs(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ki=[];function Ha(){for(var t=0;t<Ki.length;t++)Ki[t]._workInProgressVersionPrimary=null;Ki.length=0}var Cs=St.ReactCurrentDispatcher,Gi=St.ReactCurrentBatchConfig,lr=0,X=null,le=null,he=null,Ys=!1,kn=!1,Bn=0,Ep=0;function ve(){throw Error(E(321))}function Va(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!nt(t[r],e[r]))return!1;return!0}function qa(t,e,r,n,s,i){if(lr=i,X=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Cs.current=t===null||t.memoizedState===null?Op:Ip,t=r(n,s),kn){i=0;do{if(kn=!1,Bn=0,25<=i)throw Error(E(301));i+=1,he=le=null,e.updateQueue=null,Cs.current=Rp,t=r(n,s)}while(kn)}if(Cs.current=Xs,e=le!==null&&le.next!==null,lr=0,he=le=X=null,Ys=!1,e)throw Error(E(300));return t}function Ka(){var t=Bn!==0;return Bn=0,t}function ot(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?X.memoizedState=he=t:he=he.next=t,he}function qe(){if(le===null){var t=X.alternate;t=t!==null?t.memoizedState:null}else t=le.next;var e=he===null?X.memoizedState:he.next;if(e!==null)he=e,le=t;else{if(t===null)throw Error(E(310));le=t,t={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},he===null?X.memoizedState=he=t:he=he.next=t}return he}function Wn(t,e){return typeof e=="function"?e(t):e}function Ji(t){var e=qe(),r=e.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=t;var n=le,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,u=null,c=i;do{var d=c.lane;if((lr&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=h,o=n):u=u.next=h,X.lanes|=d,ur|=d}c=c.next}while(c!==null&&c!==i);u===null?o=n:u.next=a,nt(n,e.memoizedState)||(Te=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=u,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,X.lanes|=i,ur|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Qi(t){var e=qe(),r=e.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);nt(i,e.memoizedState)||(Te=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function od(){}function ad(t,e){var r=X,n=qe(),s=e(),i=!nt(n.memoizedState,s);if(i&&(n.memoizedState=s,Te=!0),n=n.queue,Ga(cd.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||he!==null&&he.memoizedState.tag&1){if(r.flags|=2048,Hn(9,ud.bind(null,r,n,s,e),void 0,null),fe===null)throw Error(E(349));lr&30||ld(r,e,s)}return s}function ld(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=X.updateQueue,e===null?(e={lastEffect:null,stores:null},X.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function ud(t,e,r,n){e.value=r,e.getSnapshot=n,dd(e)&&hd(t)}function cd(t,e,r){return r(function(){dd(e)&&hd(t)})}function dd(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!nt(t,r)}catch{return!0}}function hd(t){var e=_t(t,1);e!==null&&rt(e,t,1,-1)}function Zl(t){var e=ot();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:t},e.queue=t,t=t.dispatch=Tp.bind(null,X,t),[e.memoizedState,t]}function Hn(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=X.updateQueue,e===null?(e={lastEffect:null,stores:null},X.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function fd(){return qe().memoizedState}function Ps(t,e,r,n){var s=ot();X.flags|=t,s.memoizedState=Hn(1|e,r,void 0,n===void 0?null:n)}function fi(t,e,r,n){var s=qe();n=n===void 0?null:n;var i=void 0;if(le!==null){var o=le.memoizedState;if(i=o.destroy,n!==null&&Va(n,o.deps)){s.memoizedState=Hn(e,r,i,n);return}}X.flags|=t,s.memoizedState=Hn(1|e,r,i,n)}function eu(t,e){return Ps(8390656,8,t,e)}function Ga(t,e){return fi(2048,8,t,e)}function pd(t,e){return fi(4,2,t,e)}function md(t,e){return fi(4,4,t,e)}function gd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vd(t,e,r){return r=r!=null?r.concat([t]):null,fi(4,4,gd.bind(null,e,t),r)}function Ja(){}function yd(t,e){var r=qe();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Va(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function wd(t,e){var r=qe();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Va(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function xd(t,e,r){return lr&21?(nt(r,e)||(r=bc(),X.lanes|=r,ur|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Te=!0),t.memoizedState=r)}function Cp(t,e){var r=H;H=r!==0&&4>r?r:4,t(!0);var n=Gi.transition;Gi.transition={};try{t(!1),e()}finally{H=r,Gi.transition=n}}function _d(){return qe().memoizedState}function Pp(t,e,r){var n=Ft(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},kd(t))Sd(e,r);else if(r=nd(t,e,r,n),r!==null){var s=je();rt(r,t,n,s),jd(r,e,n)}}function Tp(t,e,r){var n=Ft(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(kd(t))Sd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,nt(a,o)){var u=e.interleaved;u===null?(s.next=s,za(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}r=nd(t,e,s,n),r!==null&&(s=je(),rt(r,t,n,s),jd(r,e,n))}}function kd(t){var e=t.alternate;return t===X||e!==null&&e===X}function Sd(t,e){kn=Ys=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function jd(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Na(t,r)}}var Xs={readContext:Ve,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useInsertionEffect:ve,useLayoutEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useMutableSource:ve,useSyncExternalStore:ve,useId:ve,unstable_isNewReconciler:!1},Op={readContext:Ve,useCallback:function(t,e){return ot().memoizedState=[t,e===void 0?null:e],t},useContext:Ve,useEffect:eu,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Ps(4194308,4,gd.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Ps(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ps(4,2,t,e)},useMemo:function(t,e){var r=ot();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ot();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Pp.bind(null,X,t),[n.memoizedState,t]},useRef:function(t){var e=ot();return t={current:t},e.memoizedState=t},useState:Zl,useDebugValue:Ja,useDeferredValue:function(t){return ot().memoizedState=t},useTransition:function(){var t=Zl(!1),e=t[0];return t=Cp.bind(null,t[1]),ot().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=X,s=ot();if(Q){if(r===void 0)throw Error(E(407));r=r()}else{if(r=e(),fe===null)throw Error(E(349));lr&30||ld(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,eu(cd.bind(null,n,i,t),[t]),n.flags|=2048,Hn(9,ud.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=ot(),e=fe.identifierPrefix;if(Q){var r=vt,n=gt;r=(n&~(1<<32-tt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Bn++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Ep++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ip={readContext:Ve,useCallback:yd,useContext:Ve,useEffect:Ga,useImperativeHandle:vd,useInsertionEffect:pd,useLayoutEffect:md,useMemo:wd,useReducer:Ji,useRef:fd,useState:function(){return Ji(Wn)},useDebugValue:Ja,useDeferredValue:function(t){var e=qe();return xd(e,le.memoizedState,t)},useTransition:function(){var t=Ji(Wn)[0],e=qe().memoizedState;return[t,e]},useMutableSource:od,useSyncExternalStore:ad,useId:_d,unstable_isNewReconciler:!1},Rp={readContext:Ve,useCallback:yd,useContext:Ve,useEffect:Ga,useImperativeHandle:vd,useInsertionEffect:pd,useLayoutEffect:md,useMemo:wd,useReducer:Qi,useRef:fd,useState:function(){return Qi(Wn)},useDebugValue:Ja,useDeferredValue:function(t){var e=qe();return le===null?e.memoizedState=t:xd(e,le.memoizedState,t)},useTransition:function(){var t=Qi(Wn)[0],e=qe().memoizedState;return[t,e]},useMutableSource:od,useSyncExternalStore:ad,useId:_d,unstable_isNewReconciler:!1};function Ye(t,e){if(t&&t.defaultProps){e=Z({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Fo(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Z({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var pi={isMounted:function(t){return(t=t._reactInternals)?fr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=je(),s=Ft(t),i=yt(n,s);i.payload=e,r!=null&&(i.callback=r),e=Mt(t,i,s),e!==null&&(rt(e,t,s,n),Es(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=je(),s=Ft(t),i=yt(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Mt(t,i,s),e!==null&&(rt(e,t,s,n),Es(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=je(),n=Ft(t),s=yt(r,n);s.tag=2,e!=null&&(s.callback=e),e=Mt(t,s,n),e!==null&&(rt(e,t,n,r),Es(e,t,n))}};function tu(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ln(r,n)||!Ln(s,i):!0}function bd(t,e,r){var n=!1,s=Ht,i=e.contextType;return typeof i=="object"&&i!==null?i=Ve(i):(s=Ie(e)?or:xe.current,n=e.contextTypes,i=(n=n!=null)?Br(t,s):Ht),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=pi,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function ru(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&pi.enqueueReplaceState(e,e.state,null)}function Bo(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Fa(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ve(i):(i=Ie(e)?or:xe.current,s.context=Br(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Fo(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&pi.enqueueReplaceState(s,s.state,null),Js(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function qr(t,e){try{var r="",n=e;do r+=af(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Yi(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Wo(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var $p=typeof WeakMap=="function"?WeakMap:Map;function Nd(t,e,r){r=yt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ei||(ei=!0,Zo=n),Wo(t,e)},r}function Ed(t,e,r){r=yt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Wo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Wo(t,e),typeof n!="function"&&(zt===null?zt=new Set([this]):zt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function nu(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new $p;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Gp.bind(null,t,e,r),e.then(t,t))}function su(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function iu(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=yt(-1,1),e.tag=2,Mt(r,e,1))),r.lanes|=1),t)}var Ap=St.ReactCurrentOwner,Te=!1;function Se(t,e,r,n){e.child=t===null?rd(e,null,r,n):Hr(e,t.child,r,n)}function ou(t,e,r,n,s){r=r.render;var i=e.ref;return Mr(e,s),n=qa(t,e,r,n,i,s),r=Ka(),t!==null&&!Te?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,kt(t,e,s)):(Q&&r&&$a(e),e.flags|=1,Se(t,e,n,s),e.child)}function au(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!nl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Cd(t,e,i,n,s)):(t=Rs(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ln,r(o,n)&&t.ref===e.ref)return kt(t,e,s)}return e.flags|=1,t=Bt(i,n),t.ref=e.ref,t.return=e,e.child=t}function Cd(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Ln(i,n)&&t.ref===e.ref)if(Te=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Te=!0);else return e.lanes=t.lanes,kt(t,e,s)}return Ho(t,e,r,n,s)}function Pd(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},K($r,$e),$e|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,K($r,$e),$e|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,K($r,$e),$e|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,K($r,$e),$e|=n;return Se(t,e,s,r),e.child}function Td(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Ho(t,e,r,n,s){var i=Ie(r)?or:xe.current;return i=Br(e,i),Mr(e,s),r=qa(t,e,r,n,i,s),n=Ka(),t!==null&&!Te?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,kt(t,e,s)):(Q&&n&&$a(e),e.flags|=1,Se(t,e,r,s),e.child)}function lu(t,e,r,n,s){if(Ie(r)){var i=!0;Hs(e)}else i=!1;if(Mr(e,s),e.stateNode===null)Ts(t,e),bd(e,r,n),Bo(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Ve(c):(c=Ie(r)?or:xe.current,c=Br(e,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||u!==c)&&ru(e,o,n,c),Ct=!1;var p=e.memoizedState;o.state=p,Js(e,n,o,s),u=e.memoizedState,a!==n||p!==u||Oe.current||Ct?(typeof d=="function"&&(Fo(e,r,d,n),u=e.memoizedState),(a=Ct||tu(e,r,a,n,p,u,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),o.props=n,o.state=u,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,sd(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ye(e.type,a),o.props=c,h=e.pendingProps,p=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=Ve(u):(u=Ie(r)?or:xe.current,u=Br(e,u));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==u)&&ru(e,o,n,u),Ct=!1,p=e.memoizedState,o.state=p,Js(e,n,o,s);var y=e.memoizedState;a!==h||p!==y||Oe.current||Ct?(typeof v=="function"&&(Fo(e,r,v,n),y=e.memoizedState),(c=Ct||tu(e,r,c,n,p,y,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),o.props=n,o.state=y,o.context=u,n=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return Vo(t,e,r,n,i,s)}function Vo(t,e,r,n,s,i){Td(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Kl(e,r,!1),kt(t,e,i);n=e.stateNode,Ap.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Hr(e,t.child,null,i),e.child=Hr(e,null,a,i)):Se(t,e,a,i),e.memoizedState=n.state,s&&Kl(e,r,!0),e.child}function Od(t){var e=t.stateNode;e.pendingContext?ql(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ql(t,e.context,!1),Ba(t,e.containerInfo)}function uu(t,e,r,n,s){return Wr(),La(s),e.flags|=256,Se(t,e,r,n),e.child}var qo={dehydrated:null,treeContext:null,retryLane:0};function Ko(t){return{baseLanes:t,cachePool:null,transitions:null}}function Id(t,e,r){var n=e.pendingProps,s=Y.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),K(Y,s&1),t===null)return Mo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=vi(o,n,0,null),t=ir(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ko(r),e.memoizedState=qo,t):Qa(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Lp(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=Bt(s,u),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Bt(a,i):(i=ir(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?Ko(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=qo,n}return i=t.child,t=i.sibling,n=Bt(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Qa(t,e){return e=vi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ps(t,e,r,n){return n!==null&&La(n),Hr(e,t.child,null,r),t=Qa(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Lp(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Yi(Error(E(422))),ps(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=vi({mode:"visible",children:n.children},s,0,null),i=ir(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Hr(e,t.child,null,o),e.child.memoizedState=Ko(o),e.memoizedState=qo,i);if(!(e.mode&1))return ps(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(E(419)),n=Yi(i,n,void 0),ps(t,e,o,n)}if(a=(o&t.childLanes)!==0,Te||a){if(n=fe,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,_t(t,s),rt(n,t,s,-1))}return rl(),n=Yi(Error(E(421))),ps(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Jp.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ae=Dt(s.nextSibling),Le=e,Q=!0,et=null,t!==null&&(ze[Fe++]=gt,ze[Fe++]=vt,ze[Fe++]=ar,gt=t.id,vt=t.overflow,ar=e),e=Qa(e,n.children),e.flags|=4096,e)}function cu(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),zo(t.return,e,r)}function Xi(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Rd(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Se(t,e,n.children,r),n=Y.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cu(t,r,e);else if(t.tag===19)cu(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(K(Y,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Qs(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Xi(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Qs(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Xi(e,!0,r,null,i);break;case"together":Xi(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ts(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function kt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ur|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,r=Bt(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Bt(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Up(t,e,r){switch(e.tag){case 3:Od(e),Wr();break;case 5:id(e);break;case 1:Ie(e.type)&&Hs(e);break;case 4:Ba(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;K(Ks,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(K(Y,Y.current&1),e.flags|=128,null):r&e.child.childLanes?Id(t,e,r):(K(Y,Y.current&1),t=kt(t,e,r),t!==null?t.sibling:null);K(Y,Y.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Rd(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),K(Y,Y.current),n)break;return null;case 22:case 23:return e.lanes=0,Pd(t,e,r)}return kt(t,e,r)}var $d,Go,Ad,Ld;$d=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Go=function(){};Ad=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,nr(ut.current);var i=null;switch(r){case"input":s=go(t,s),n=go(t,n),i=[];break;case"select":s=Z({},s,{value:void 0}),n=Z({},n,{value:void 0}),i=[];break;case"textarea":s=wo(t,s),n=wo(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Bs)}_o(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Pn.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Pn.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&G("scroll",t),i||a===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Ld=function(t,e,r,n){r!==n&&(e.flags|=4)};function un(t,e){if(!Q)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ye(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Dp(t,e,r){var n=e.pendingProps;switch(Aa(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(e),null;case 1:return Ie(e.type)&&Ws(),ye(e),null;case 3:return n=e.stateNode,Vr(),J(Oe),J(xe),Ha(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(hs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,et!==null&&(ra(et),et=null))),Go(t,e),ye(e),null;case 5:Wa(e);var s=nr(Fn.current);if(r=e.type,t!==null&&e.stateNode!=null)Ad(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(E(166));return ye(e),null}if(t=nr(ut.current),hs(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[at]=e,n[Mn]=i,t=(e.mode&1)!==0,r){case"dialog":G("cancel",n),G("close",n);break;case"iframe":case"object":case"embed":G("load",n);break;case"video":case"audio":for(s=0;s<mn.length;s++)G(mn[s],n);break;case"source":G("error",n);break;case"img":case"image":case"link":G("error",n),G("load",n);break;case"details":G("toggle",n);break;case"input":wl(n,i),G("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},G("invalid",n);break;case"textarea":_l(n,i),G("invalid",n)}_o(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&ds(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ds(n.textContent,a,t),s=["children",""+a]):Pn.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&G("scroll",n)}switch(r){case"input":ns(n),xl(n,i,!0);break;case"textarea":ns(n),kl(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Bs)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=cc(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[at]=e,t[Mn]=n,$d(t,e,!1,!1),e.stateNode=t;e:{switch(o=ko(r,n),r){case"dialog":G("cancel",t),G("close",t),s=n;break;case"iframe":case"object":case"embed":G("load",t),s=n;break;case"video":case"audio":for(s=0;s<mn.length;s++)G(mn[s],t);s=n;break;case"source":G("error",t),s=n;break;case"img":case"image":case"link":G("error",t),G("load",t),s=n;break;case"details":G("toggle",t),s=n;break;case"input":wl(t,n),s=go(t,n),G("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Z({},n,{value:void 0}),G("invalid",t);break;case"textarea":_l(t,n),s=wo(t,n),G("invalid",t);break;default:s=n}_o(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?fc(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&dc(t,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Tn(t,u):typeof u=="number"&&Tn(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Pn.hasOwnProperty(i)?u!=null&&i==="onScroll"&&G("scroll",t):u!=null&&xa(t,i,u,o))}switch(r){case"input":ns(t),xl(t,n,!1);break;case"textarea":ns(t),kl(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Wt(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Ar(t,!!n.multiple,i,!1):n.defaultValue!=null&&Ar(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Bs)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ye(e),null;case 6:if(t&&e.stateNode!=null)Ld(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(E(166));if(r=nr(Fn.current),nr(ut.current),hs(e)){if(n=e.stateNode,r=e.memoizedProps,n[at]=e,(i=n.nodeValue!==r)&&(t=Le,t!==null))switch(t.tag){case 3:ds(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ds(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[at]=e,e.stateNode=n}return ye(e),null;case 13:if(J(Y),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Q&&Ae!==null&&e.mode&1&&!(e.flags&128))ed(),Wr(),e.flags|=98560,i=!1;else if(i=hs(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(E(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[at]=e}else Wr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ye(e),i=!1}else et!==null&&(ra(et),et=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Y.current&1?ue===0&&(ue=3):rl())),e.updateQueue!==null&&(e.flags|=4),ye(e),null);case 4:return Vr(),Go(t,e),t===null&&Un(e.stateNode.containerInfo),ye(e),null;case 10:return Ma(e.type._context),ye(e),null;case 17:return Ie(e.type)&&Ws(),ye(e),null;case 19:if(J(Y),i=e.memoizedState,i===null)return ye(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)un(i,!1);else{if(ue!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Qs(t),o!==null){for(e.flags|=128,un(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return K(Y,Y.current&1|2),e.child}t=t.sibling}i.tail!==null&&ne()>Kr&&(e.flags|=128,n=!0,un(i,!1),e.lanes=4194304)}else{if(!n)if(t=Qs(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),un(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Q)return ye(e),null}else 2*ne()-i.renderingStartTime>Kr&&r!==1073741824&&(e.flags|=128,n=!0,un(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ne(),e.sibling=null,r=Y.current,K(Y,n?r&1|2:r&1),e):(ye(e),null);case 22:case 23:return tl(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?$e&1073741824&&(ye(e),e.subtreeFlags&6&&(e.flags|=8192)):ye(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function Mp(t,e){switch(Aa(e),e.tag){case 1:return Ie(e.type)&&Ws(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vr(),J(Oe),J(xe),Ha(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wa(e),null;case 13:if(J(Y),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));Wr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return J(Y),null;case 4:return Vr(),null;case 10:return Ma(e.type._context),null;case 22:case 23:return tl(),null;case 24:return null;default:return null}}var ms=!1,we=!1,zp=typeof WeakSet=="function"?WeakSet:Set,$=null;function Rr(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){te(t,e,n)}else r.current=null}function Jo(t,e,r){try{r()}catch(n){te(t,e,n)}}var du=!1;function Fp(t,e){if(Io=Ms,t=Fc(),Ra(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,u=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var v;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(u=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)p=h,h=v;for(;;){if(h===t)break t;if(p===r&&++c===s&&(a=o),p===i&&++d===n&&(u=o),(v=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=v}r=a===-1||u===-1?null:{start:a,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ro={focusedElem:t,selectionRange:r},Ms=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,j=y.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:Ye(e.type,w),j);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var f=e.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(x){te(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return y=du,du=!1,y}function Sn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Jo(e,r,i)}s=s.next}while(s!==n)}}function mi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Qo(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Ud(t){var e=t.alternate;e!==null&&(t.alternate=null,Ud(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[at],delete e[Mn],delete e[Lo],delete e[Sp],delete e[jp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Dd(t){return t.tag===5||t.tag===3||t.tag===4}function hu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yo(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Bs));else if(n!==4&&(t=t.child,t!==null))for(Yo(t,e,r),t=t.sibling;t!==null;)Yo(t,e,r),t=t.sibling}function Xo(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Xo(t,e,r),t=t.sibling;t!==null;)Xo(t,e,r),t=t.sibling}var pe=null,Xe=!1;function jt(t,e,r){for(r=r.child;r!==null;)Md(t,e,r),r=r.sibling}function Md(t,e,r){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(ai,r)}catch{}switch(r.tag){case 5:we||Rr(r,e);case 6:var n=pe,s=Xe;pe=null,jt(t,e,r),pe=n,Xe=s,pe!==null&&(Xe?(t=pe,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):pe.removeChild(r.stateNode));break;case 18:pe!==null&&(Xe?(t=pe,r=r.stateNode,t.nodeType===8?Vi(t.parentNode,r):t.nodeType===1&&Vi(t,r),$n(t)):Vi(pe,r.stateNode));break;case 4:n=pe,s=Xe,pe=r.stateNode.containerInfo,Xe=!0,jt(t,e,r),pe=n,Xe=s;break;case 0:case 11:case 14:case 15:if(!we&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Jo(r,e,o),s=s.next}while(s!==n)}jt(t,e,r);break;case 1:if(!we&&(Rr(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){te(r,e,a)}jt(t,e,r);break;case 21:jt(t,e,r);break;case 22:r.mode&1?(we=(n=we)||r.memoizedState!==null,jt(t,e,r),we=n):jt(t,e,r);break;default:jt(t,e,r)}}function fu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new zp),e.forEach(function(n){var s=Qp.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Je(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:pe=a.stateNode,Xe=!1;break e;case 3:pe=a.stateNode.containerInfo,Xe=!0;break e;case 4:pe=a.stateNode.containerInfo,Xe=!0;break e}a=a.return}if(pe===null)throw Error(E(160));Md(i,o,s),pe=null,Xe=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){te(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zd(e,t),e=e.sibling}function zd(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Je(e,t),it(t),n&4){try{Sn(3,t,t.return),mi(3,t)}catch(w){te(t,t.return,w)}try{Sn(5,t,t.return)}catch(w){te(t,t.return,w)}}break;case 1:Je(e,t),it(t),n&512&&r!==null&&Rr(r,r.return);break;case 5:if(Je(e,t),it(t),n&512&&r!==null&&Rr(r,r.return),t.flags&32){var s=t.stateNode;try{Tn(s,"")}catch(w){te(t,t.return,w)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&lc(s,i),ko(a,o);var c=ko(a,i);for(o=0;o<u.length;o+=2){var d=u[o],h=u[o+1];d==="style"?fc(s,h):d==="dangerouslySetInnerHTML"?dc(s,h):d==="children"?Tn(s,h):xa(s,d,h,c)}switch(a){case"input":vo(s,i);break;case"textarea":uc(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Ar(s,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?Ar(s,!!i.multiple,i.defaultValue,!0):Ar(s,!!i.multiple,i.multiple?[]:"",!1))}s[Mn]=i}catch(w){te(t,t.return,w)}}break;case 6:if(Je(e,t),it(t),n&4){if(t.stateNode===null)throw Error(E(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){te(t,t.return,w)}}break;case 3:if(Je(e,t),it(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{$n(e.containerInfo)}catch(w){te(t,t.return,w)}break;case 4:Je(e,t),it(t);break;case 13:Je(e,t),it(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Za=ne())),n&4&&fu(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(we=(c=we)||d,Je(e,t),we=c):Je(e,t),it(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for($=t,d=t.child;d!==null;){for(h=$=d;$!==null;){switch(p=$,v=p.child,p.tag){case 0:case 11:case 14:case 15:Sn(4,p,p.return);break;case 1:Rr(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){te(n,r,w)}}break;case 5:Rr(p,p.return);break;case 22:if(p.memoizedState!==null){mu(h);continue}}v!==null?(v.return=p,$=v):mu(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=hc("display",o))}catch(w){te(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){te(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Je(e,t),it(t),n&4&&fu(t);break;case 21:break;default:Je(e,t),it(t)}}function it(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Dd(r)){var n=r;break e}r=r.return}throw Error(E(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Tn(s,""),n.flags&=-33);var i=hu(t);Xo(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=hu(t);Yo(t,a,o);break;default:throw Error(E(161))}}catch(u){te(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Bp(t,e,r){$=t,Fd(t)}function Fd(t,e,r){for(var n=(t.mode&1)!==0;$!==null;){var s=$,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||ms;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||we;a=ms;var c=we;if(ms=o,(we=u)&&!c)for($=s;$!==null;)o=$,u=o.child,o.tag===22&&o.memoizedState!==null?gu(s):u!==null?(u.return=o,$=u):gu(s);for(;i!==null;)$=i,Fd(i),i=i.sibling;$=s,ms=a,we=c}pu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,$=i):pu(t)}}function pu(t){for(;$!==null;){var e=$;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:we||mi(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!we)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Ye(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Xl(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Xl(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&$n(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}we||e.flags&512&&Qo(e)}catch(p){te(e,e.return,p)}}if(e===t){$=null;break}if(r=e.sibling,r!==null){r.return=e.return,$=r;break}$=e.return}}function mu(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var r=e.sibling;if(r!==null){r.return=e.return,$=r;break}$=e.return}}function gu(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{mi(4,e)}catch(u){te(e,r,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(u){te(e,s,u)}}var i=e.return;try{Qo(e)}catch(u){te(e,i,u)}break;case 5:var o=e.return;try{Qo(e)}catch(u){te(e,o,u)}}}catch(u){te(e,e.return,u)}if(e===t){$=null;break}var a=e.sibling;if(a!==null){a.return=e.return,$=a;break}$=e.return}}var Wp=Math.ceil,Zs=St.ReactCurrentDispatcher,Ya=St.ReactCurrentOwner,We=St.ReactCurrentBatchConfig,W=0,fe=null,ie=null,me=0,$e=0,$r=qt(0),ue=0,Vn=null,ur=0,gi=0,Xa=0,jn=null,Ce=null,Za=0,Kr=1/0,ht=null,ei=!1,Zo=null,zt=null,gs=!1,Rt=null,ti=0,bn=0,ea=null,Os=-1,Is=0;function je(){return W&6?ne():Os!==-1?Os:Os=ne()}function Ft(t){return t.mode&1?W&2&&me!==0?me&-me:Np.transition!==null?(Is===0&&(Is=bc()),Is):(t=H,t!==0||(t=window.event,t=t===void 0?16:Ic(t.type)),t):1}function rt(t,e,r,n){if(50<bn)throw bn=0,ea=null,Error(E(185));Gn(t,r,n),(!(W&2)||t!==fe)&&(t===fe&&(!(W&2)&&(gi|=r),ue===4&&Tt(t,me)),Re(t,n),r===1&&W===0&&!(e.mode&1)&&(Kr=ne()+500,hi&&Kt()))}function Re(t,e){var r=t.callbackNode;Nf(t,e);var n=Ds(t,t===fe?me:0);if(n===0)r!==null&&bl(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&bl(r),e===1)t.tag===0?bp(vu.bind(null,t)):Yc(vu.bind(null,t)),_p(function(){!(W&6)&&Kt()}),r=null;else{switch(Nc(n)){case 1:r=ba;break;case 4:r=Sc;break;case 16:r=Us;break;case 536870912:r=jc;break;default:r=Us}r=Jd(r,Bd.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Bd(t,e){if(Os=-1,Is=0,W&6)throw Error(E(327));var r=t.callbackNode;if(zr()&&t.callbackNode!==r)return null;var n=Ds(t,t===fe?me:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ri(t,n);else{e=n;var s=W;W|=2;var i=Hd();(fe!==t||me!==e)&&(ht=null,Kr=ne()+500,sr(t,e));do try{qp();break}catch(a){Wd(t,a)}while(!0);Da(),Zs.current=i,W=s,ie!==null?e=0:(fe=null,me=0,e=ue)}if(e!==0){if(e===2&&(s=Eo(t),s!==0&&(n=s,e=ta(t,s))),e===1)throw r=Vn,sr(t,0),Tt(t,n),Re(t,ne()),r;if(e===6)Tt(t,n);else{if(s=t.current.alternate,!(n&30)&&!Hp(s)&&(e=ri(t,n),e===2&&(i=Eo(t),i!==0&&(n=i,e=ta(t,i))),e===1))throw r=Vn,sr(t,0),Tt(t,n),Re(t,ne()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(E(345));case 2:Xt(t,Ce,ht);break;case 3:if(Tt(t,n),(n&130023424)===n&&(e=Za+500-ne(),10<e)){if(Ds(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){je(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ao(Xt.bind(null,t,Ce,ht),e);break}Xt(t,Ce,ht);break;case 4:if(Tt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-tt(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=ne()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Wp(n/1960))-n,10<n){t.timeoutHandle=Ao(Xt.bind(null,t,Ce,ht),n);break}Xt(t,Ce,ht);break;case 5:Xt(t,Ce,ht);break;default:throw Error(E(329))}}}return Re(t,ne()),t.callbackNode===r?Bd.bind(null,t):null}function ta(t,e){var r=jn;return t.current.memoizedState.isDehydrated&&(sr(t,e).flags|=256),t=ri(t,e),t!==2&&(e=Ce,Ce=r,e!==null&&ra(e)),t}function ra(t){Ce===null?Ce=t:Ce.push.apply(Ce,t)}function Hp(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!nt(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tt(t,e){for(e&=~Xa,e&=~gi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-tt(e),n=1<<r;t[r]=-1,e&=~n}}function vu(t){if(W&6)throw Error(E(327));zr();var e=Ds(t,0);if(!(e&1))return Re(t,ne()),null;var r=ri(t,e);if(t.tag!==0&&r===2){var n=Eo(t);n!==0&&(e=n,r=ta(t,n))}if(r===1)throw r=Vn,sr(t,0),Tt(t,e),Re(t,ne()),r;if(r===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xt(t,Ce,ht),Re(t,ne()),null}function el(t,e){var r=W;W|=1;try{return t(e)}finally{W=r,W===0&&(Kr=ne()+500,hi&&Kt())}}function cr(t){Rt!==null&&Rt.tag===0&&!(W&6)&&zr();var e=W;W|=1;var r=We.transition,n=H;try{if(We.transition=null,H=1,t)return t()}finally{H=n,We.transition=r,W=e,!(W&6)&&Kt()}}function tl(){$e=$r.current,J($r)}function sr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,xp(r)),ie!==null)for(r=ie.return;r!==null;){var n=r;switch(Aa(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ws();break;case 3:Vr(),J(Oe),J(xe),Ha();break;case 5:Wa(n);break;case 4:Vr();break;case 13:J(Y);break;case 19:J(Y);break;case 10:Ma(n.type._context);break;case 22:case 23:tl()}r=r.return}if(fe=t,ie=t=Bt(t.current,null),me=$e=e,ue=0,Vn=null,Xa=gi=ur=0,Ce=jn=null,rr!==null){for(e=0;e<rr.length;e++)if(r=rr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}rr=null}return t}function Wd(t,e){do{var r=ie;try{if(Da(),Cs.current=Xs,Ys){for(var n=X.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ys=!1}if(lr=0,he=le=X=null,kn=!1,Bn=0,Ya.current=null,r===null||r.return===null){ue=1,Vn=e,ie=null;break}e:{var i=t,o=r.return,a=r,u=e;if(e=me,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=su(o);if(v!==null){v.flags&=-257,iu(v,o,a,i,e),v.mode&1&&nu(i,c,e),e=v,u=c;var y=e.updateQueue;if(y===null){var w=new Set;w.add(u),e.updateQueue=w}else y.add(u);break e}else{if(!(e&1)){nu(i,c,e),rl();break e}u=Error(E(426))}}else if(Q&&a.mode&1){var j=su(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),iu(j,o,a,i,e),La(qr(u,a));break e}}i=u=qr(u,a),ue!==4&&(ue=2),jn===null?jn=[i]:jn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Nd(i,u,e);Yl(i,g);break e;case 1:a=u;var m=i.type,f=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(zt===null||!zt.has(f)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=Ed(i,a,e);Yl(i,x);break e}}i=i.return}while(i!==null)}qd(r)}catch(C){e=C,ie===r&&r!==null&&(ie=r=r.return);continue}break}while(!0)}function Hd(){var t=Zs.current;return Zs.current=Xs,t===null?Xs:t}function rl(){(ue===0||ue===3||ue===2)&&(ue=4),fe===null||!(ur&268435455)&&!(gi&268435455)||Tt(fe,me)}function ri(t,e){var r=W;W|=2;var n=Hd();(fe!==t||me!==e)&&(ht=null,sr(t,e));do try{Vp();break}catch(s){Wd(t,s)}while(!0);if(Da(),W=r,Zs.current=n,ie!==null)throw Error(E(261));return fe=null,me=0,ue}function Vp(){for(;ie!==null;)Vd(ie)}function qp(){for(;ie!==null&&!vf();)Vd(ie)}function Vd(t){var e=Gd(t.alternate,t,$e);t.memoizedProps=t.pendingProps,e===null?qd(t):ie=e,Ya.current=null}function qd(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Mp(r,e),r!==null){r.flags&=32767,ie=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ue=6,ie=null;return}}else if(r=Dp(r,e,$e),r!==null){ie=r;return}if(e=e.sibling,e!==null){ie=e;return}ie=e=t}while(e!==null);ue===0&&(ue=5)}function Xt(t,e,r){var n=H,s=We.transition;try{We.transition=null,H=1,Kp(t,e,r,n)}finally{We.transition=s,H=n}return null}function Kp(t,e,r,n){do zr();while(Rt!==null);if(W&6)throw Error(E(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Ef(t,i),t===fe&&(ie=fe=null,me=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||gs||(gs=!0,Jd(Us,function(){return zr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=We.transition,We.transition=null;var o=H;H=1;var a=W;W|=4,Ya.current=null,Fp(t,r),zd(r,t),fp(Ro),Ms=!!Io,Ro=Io=null,t.current=r,Bp(r),yf(),W=a,H=o,We.transition=i}else t.current=r;if(gs&&(gs=!1,Rt=t,ti=s),i=t.pendingLanes,i===0&&(zt=null),_f(r.stateNode),Re(t,ne()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ei)throw ei=!1,t=Zo,Zo=null,t;return ti&1&&t.tag!==0&&zr(),i=t.pendingLanes,i&1?t===ea?bn++:(bn=0,ea=t):bn=0,Kt(),null}function zr(){if(Rt!==null){var t=Nc(ti),e=We.transition,r=H;try{if(We.transition=null,H=16>t?16:t,Rt===null)var n=!1;else{if(t=Rt,Rt=null,ti=0,W&6)throw Error(E(331));var s=W;for(W|=4,$=t.current;$!==null;){var i=$,o=i.child;if($.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for($=c;$!==null;){var d=$;switch(d.tag){case 0:case 11:case 15:Sn(8,d,i)}var h=d.child;if(h!==null)h.return=d,$=h;else for(;$!==null;){d=$;var p=d.sibling,v=d.return;if(Ud(d),d===c){$=null;break}if(p!==null){p.return=v,$=p;break}$=v}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var j=w.sibling;w.sibling=null,w=j}while(w!==null)}}$=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,$=o;else e:for(;$!==null;){if(i=$,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Sn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,$=g;break e}$=i.return}}var m=t.current;for($=m;$!==null;){o=$;var f=o.child;if(o.subtreeFlags&2064&&f!==null)f.return=o,$=f;else e:for(o=m;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:mi(9,a)}}catch(C){te(a,a.return,C)}if(a===o){$=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,$=x;break e}$=a.return}}if(W=s,Kt(),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(ai,t)}catch{}n=!0}return n}finally{H=r,We.transition=e}}return!1}function yu(t,e,r){e=qr(r,e),e=Nd(t,e,1),t=Mt(t,e,1),e=je(),t!==null&&(Gn(t,1,e),Re(t,e))}function te(t,e,r){if(t.tag===3)yu(t,t,r);else for(;e!==null;){if(e.tag===3){yu(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(zt===null||!zt.has(n))){t=qr(r,t),t=Ed(e,t,1),e=Mt(e,t,1),t=je(),e!==null&&(Gn(e,1,t),Re(e,t));break}}e=e.return}}function Gp(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=je(),t.pingedLanes|=t.suspendedLanes&r,fe===t&&(me&r)===r&&(ue===4||ue===3&&(me&130023424)===me&&500>ne()-Za?sr(t,0):Xa|=r),Re(t,e)}function Kd(t,e){e===0&&(t.mode&1?(e=os,os<<=1,!(os&130023424)&&(os=4194304)):e=1);var r=je();t=_t(t,e),t!==null&&(Gn(t,e,r),Re(t,r))}function Jp(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Kd(t,r)}function Qp(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(E(314))}n!==null&&n.delete(e),Kd(t,r)}var Gd;Gd=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Oe.current)Te=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Te=!1,Up(t,e,r);Te=!!(t.flags&131072)}else Te=!1,Q&&e.flags&1048576&&Xc(e,qs,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ts(t,e),t=e.pendingProps;var s=Br(e,xe.current);Mr(e,r),s=qa(null,e,n,t,s,r);var i=Ka();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ie(n)?(i=!0,Hs(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Fa(e),s.updater=pi,e.stateNode=s,s._reactInternals=e,Bo(e,n,t,r),e=Vo(null,e,n,!0,i,r)):(e.tag=0,Q&&i&&$a(e),Se(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ts(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Xp(n),t=Ye(n,t),s){case 0:e=Ho(null,e,n,t,r);break e;case 1:e=lu(null,e,n,t,r);break e;case 11:e=ou(null,e,n,t,r);break e;case 14:e=au(null,e,n,Ye(n.type,t),r);break e}throw Error(E(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ye(n,s),Ho(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ye(n,s),lu(t,e,n,s,r);case 3:e:{if(Od(e),t===null)throw Error(E(387));n=e.pendingProps,i=e.memoizedState,s=i.element,sd(t,e),Js(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=qr(Error(E(423)),e),e=uu(t,e,n,r,s);break e}else if(n!==s){s=qr(Error(E(424)),e),e=uu(t,e,n,r,s);break e}else for(Ae=Dt(e.stateNode.containerInfo.firstChild),Le=e,Q=!0,et=null,r=rd(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Wr(),n===s){e=kt(t,e,r);break e}Se(t,e,n,r)}e=e.child}return e;case 5:return id(e),t===null&&Mo(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,$o(n,s)?o=null:i!==null&&$o(n,i)&&(e.flags|=32),Td(t,e),Se(t,e,o,r),e.child;case 6:return t===null&&Mo(e),null;case 13:return Id(t,e,r);case 4:return Ba(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Hr(e,null,n,r):Se(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ye(n,s),ou(t,e,n,s,r);case 7:return Se(t,e,e.pendingProps,r),e.child;case 8:return Se(t,e,e.pendingProps.children,r),e.child;case 12:return Se(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,K(Ks,n._currentValue),n._currentValue=o,i!==null)if(nt(i.value,o)){if(i.children===s.children&&!Oe.current){e=kt(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=yt(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),zo(i.return,r,e),a.lanes|=r;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(E(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),zo(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Se(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Mr(e,r),s=Ve(s),n=n(s),e.flags|=1,Se(t,e,n,r),e.child;case 14:return n=e.type,s=Ye(n,e.pendingProps),s=Ye(n.type,s),au(t,e,n,s,r);case 15:return Cd(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ye(n,s),Ts(t,e),e.tag=1,Ie(n)?(t=!0,Hs(e)):t=!1,Mr(e,r),bd(e,n,s),Bo(e,n,s,r),Vo(null,e,n,!0,t,r);case 19:return Rd(t,e,r);case 22:return Pd(t,e,r)}throw Error(E(156,e.tag))};function Jd(t,e){return kc(t,e)}function Yp(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Be(t,e,r,n){return new Yp(t,e,r,n)}function nl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xp(t){if(typeof t=="function")return nl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ka)return 11;if(t===Sa)return 14}return 2}function Bt(t,e){var r=t.alternate;return r===null?(r=Be(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Rs(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")nl(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case jr:return ir(r.children,s,i,e);case _a:o=8,s|=8;break;case ho:return t=Be(12,r,e,s|2),t.elementType=ho,t.lanes=i,t;case fo:return t=Be(13,r,e,s),t.elementType=fo,t.lanes=i,t;case po:return t=Be(19,r,e,s),t.elementType=po,t.lanes=i,t;case ic:return vi(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nc:o=10;break e;case sc:o=9;break e;case ka:o=11;break e;case Sa:o=14;break e;case Et:o=16,n=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=Be(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function ir(t,e,r,n){return t=Be(7,t,n,e),t.lanes=r,t}function vi(t,e,r,n){return t=Be(22,t,n,e),t.elementType=ic,t.lanes=r,t.stateNode={isHidden:!1},t}function Zi(t,e,r){return t=Be(6,t,null,e),t.lanes=r,t}function eo(t,e,r){return e=Be(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Zp(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$i(0),this.expirationTimes=$i(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$i(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function sl(t,e,r,n,s,i,o,a,u){return t=new Zp(t,e,r,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Be(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fa(i),t}function em(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Qd(t){if(!t)return Ht;t=t._reactInternals;e:{if(fr(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ie(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var r=t.type;if(Ie(r))return Qc(t,r,e)}return e}function Yd(t,e,r,n,s,i,o,a,u){return t=sl(r,n,!0,t,s,i,o,a,u),t.context=Qd(null),r=t.current,n=je(),s=Ft(r),i=yt(n,s),i.callback=e??null,Mt(r,i,s),t.current.lanes=s,Gn(t,s,n),Re(t,n),t}function yi(t,e,r,n){var s=e.current,i=je(),o=Ft(s);return r=Qd(r),e.context===null?e.context=r:e.pendingContext=r,e=yt(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Mt(s,e,o),t!==null&&(rt(t,s,o,i),Es(t,s,o)),o}function ni(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function wu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function il(t,e){wu(t,e),(t=t.alternate)&&wu(t,e)}function tm(){return null}var Xd=typeof reportError=="function"?reportError:function(t){console.error(t)};function ol(t){this._internalRoot=t}wi.prototype.render=ol.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));yi(t,e,null,null)};wi.prototype.unmount=ol.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;cr(function(){yi(null,t,null,null)}),e[xt]=null}};function wi(t){this._internalRoot=t}wi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Pc();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Pt.length&&e!==0&&e<Pt[r].priority;r++);Pt.splice(r,0,t),r===0&&Oc(t)}};function al(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xu(){}function rm(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=ni(o);i.call(c)}}var o=Yd(e,n,t,0,null,!1,!1,"",xu);return t._reactRootContainer=o,t[xt]=o.current,Un(t.nodeType===8?t.parentNode:t),cr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=ni(u);a.call(c)}}var u=sl(t,0,!1,null,null,!1,!1,"",xu);return t._reactRootContainer=u,t[xt]=u.current,Un(t.nodeType===8?t.parentNode:t),cr(function(){yi(e,u,r,n)}),u}function _i(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=ni(o);a.call(u)}}yi(e,o,t,s)}else o=rm(r,e,t,s,n);return ni(o)}Ec=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=pn(e.pendingLanes);r!==0&&(Na(e,r|1),Re(e,ne()),!(W&6)&&(Kr=ne()+500,Kt()))}break;case 13:cr(function(){var n=_t(t,1);if(n!==null){var s=je();rt(n,t,1,s)}}),il(t,1)}};Ea=function(t){if(t.tag===13){var e=_t(t,134217728);if(e!==null){var r=je();rt(e,t,134217728,r)}il(t,134217728)}};Cc=function(t){if(t.tag===13){var e=Ft(t),r=_t(t,e);if(r!==null){var n=je();rt(r,t,e,n)}il(t,e)}};Pc=function(){return H};Tc=function(t,e){var r=H;try{return H=t,e()}finally{H=r}};jo=function(t,e,r){switch(e){case"input":if(vo(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=di(n);if(!s)throw Error(E(90));ac(n),vo(n,s)}}}break;case"textarea":uc(t,r);break;case"select":e=r.value,e!=null&&Ar(t,!!r.multiple,e,!1)}};gc=el;vc=cr;var nm={usingClientEntryPoint:!1,Events:[Qn,Cr,di,pc,mc,el]},cn={findFiberByHostInstance:tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sm={bundleType:cn.bundleType,version:cn.version,rendererPackageName:cn.rendererPackageName,rendererConfig:cn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:St.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xc(t),t===null?null:t.stateNode},findFiberByHostInstance:cn.findFiberByHostInstance||tm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vs.isDisabled&&vs.supportsFiber)try{ai=vs.inject(sm),lt=vs}catch{}}De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nm;De.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!al(e))throw Error(E(200));return em(t,e,null,r)};De.createRoot=function(t,e){if(!al(t))throw Error(E(299));var r=!1,n="",s=Xd;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=sl(t,1,!1,null,null,r,!1,n,s),t[xt]=e.current,Un(t.nodeType===8?t.parentNode:t),new ol(e)};De.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=xc(e),t=t===null?null:t.stateNode,t};De.flushSync=function(t){return cr(t)};De.hydrate=function(t,e,r){if(!xi(e))throw Error(E(200));return _i(null,t,e,!0,r)};De.hydrateRoot=function(t,e,r){if(!al(t))throw Error(E(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Xd;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Yd(e,null,t,1,r??null,s,!1,i,o),t[xt]=e.current,Un(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new wi(e)};De.render=function(t,e,r){if(!xi(e))throw Error(E(200));return _i(null,t,e,!1,r)};De.unmountComponentAtNode=function(t){if(!xi(t))throw Error(E(40));return t._reactRootContainer?(cr(function(){_i(null,null,t,!1,function(){t._reactRootContainer=null,t[xt]=null})}),!0):!1};De.unstable_batchedUpdates=el;De.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!xi(r))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return _i(t,e,r,!1,n)};De.version="18.3.1-next-f1338f8080-20240426";function Zd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zd)}catch(t){console.error(t)}}Zd(),Zu.exports=De;var im=Zu.exports,eh,_u=im;eh=_u.createRoot,_u.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var om={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),se=(t,e)=>{const r=R.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:u,...c},d)=>R.createElement("svg",{ref:d,...om,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${am(t)}`,a].join(" "),...c},[...e.map(([h,p])=>R.createElement(h,p)),...Array.isArray(u)?u:[u]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=se("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=se("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=se("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=se("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=se("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=se("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=se("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=se("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=se("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=se("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=se("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=se("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=se("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),wm="https://primary-production-6722.up.railway.app/webhook/b9f23c95-5aaa-4805-aa87-8c3c4a1d04ed",xm=t=>{const e={};let r=!0;return t.username.trim()||(e.username="Username is required",r=!1),t.fullName.trim()||(e.fullName="Full name is required",r=!1),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)||(e.email="Please enter a valid email address",r=!1),/^\+?[0-9]{10,15}$/.test(t.phoneNumber.replace(/\s+/g,""))||(e.phoneNumber="Please enter a valid phone number",r=!1),t.password.length<8&&(e.password="Password must be at least 8 characters long",r=!1),t.password!==t.confirmPassword&&(e.confirmPassword="Passwords do not match",r=!1),{isValid:r,...r?{}:{errors:e}}},_m=async t=>{try{const e=xm(t);if(!e.isValid)return{success:!1,errors:e.errors};const r=await fetch(wm,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.username,fullName:t.fullName,email:t.email,phoneNumber:t.phoneNumber,password:t.password,userType:t.userType,timestamp:new Date().toISOString()})});if(!r.ok)throw new Error(`HTTP error! Status: ${r.status}`);let n;try{const s=await r.text();n=s?JSON.parse(s):{}}catch{return{success:!1,errors:{general:"Error processing server response"}}}if(n.message&&typeof n.message=="string"&&n.message.toLowerCase().includes("invalid data"))return console.log("Registration successful!"),{success:!0,message:"Sign-up successful!"};if(!n.success){console.log("Registration failed!");const s={};if(n.message){const i=n.message.toLowerCase();return i.includes("username already taken")||i.includes("user_user_name_key")||i.includes("duplicate")&&i.includes("username")?s.username="Username already taken":i.includes("full name already exists")||i.includes("user_full_name_key")||i.includes("duplicate")&&i.includes("full name")?s.fullName="Full name already exists":i.includes("email already registered")||i.includes("user_email_key")||i.includes("duplicate")&&i.includes("email")?s.email="Email already registered":i.includes("phone number already used")||i.includes("user_phone_number_key")||i.includes("duplicate")&&i.includes("phone")?s.phoneNumber="Phone number already used":s.general=n.message,console.log("Registration failed: "+n.message),{success:!1,errors:s}}}return console.log("Registration successful!"),{success:!0,message:"Sign-up successful!"}}catch(e){const r=e instanceof Error?e.message:"An unknown error occurred",n=r.toLowerCase(),s={};return n.includes("username already taken")||n.includes("user_user_name_key")?s.username="Username already taken":n.includes("full name already exists")||n.includes("user_full_name_key")?s.fullName="Full name already exists":n.includes("email already registered")||n.includes("user_email_key")?s.email="Email already registered":n.includes("phone number already used")||n.includes("user_phone_number_key")?s.phoneNumber="Phone number already used":s.general=r,console.log("Registration failed: "+r),{success:!1,errors:s}}},km=()=>({handleSubmit:async(t,e)=>{var s,i,o,a,u,c;t.preventDefault();const r=t.currentTarget,n={username:((s=r.elements.namedItem("username"))==null?void 0:s.value)||"",fullName:((i=r.elements.namedItem("fullName"))==null?void 0:i.value)||"",email:((o=r.elements.namedItem("email"))==null?void 0:o.value)||"",phoneNumber:((a=r.elements.namedItem("phoneNumber"))==null?void 0:a.value)||"",password:((u=r.elements.namedItem("password"))==null?void 0:u.value)||"",confirmPassword:((c=r.elements.namedItem("confirmPassword"))==null?void 0:c.value)||"",userType:e};return await _m(n)}}),ih=({message:t,buttonText:e,onButtonClick:r,isOpen:n})=>n?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsx("div",{className:"bg-white rounded-xl shadow-xl p-6 max-w-sm w-full mx-4 animate-fade-in",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:l.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:t}),l.jsx("button",{type:"button",onClick:s=>{s.preventDefault(),s.stopPropagation(),r()},className:"w-full bg-primary text-white py-3 rounded-lg font-semibold hover:bg-primary-dark transition-colors",children:e})]})})}):null,Sm=({userType:t,navigateTo:e})=>{const[r,n]=R.useState(!1),[s,i]=R.useState({}),[o,a]=R.useState(!1),{handleSubmit:u}=km(),c=async h=>{n(!0),i({});try{const p=await u(h,t);p.success?a(!0):p.errors&&i(p.errors)}finally{n(!1)}},d=()=>{a(!1),e("signin")};return l.jsxs("div",{className:"max-w-md mx-auto bg-white p-8 rounded-xl shadow-lg",children:[l.jsx(ih,{message:"Account created successfully",buttonText:"OK",onButtonClick:d,isOpen:o}),l.jsxs("div",{className:"text-center mb-8",children:[l.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Join as a ",t==="creator"?"Creator":"Supporter"]}),l.jsx("p",{className:"text-gray-600",children:t==="creator"?"Share your creativity and connect with supporters who appreciate your work":"Discover amazing creators and support their incredible journey"})]}),s.general&&l.jsx("div",{className:"p-4 mb-6 rounded-lg bg-red-100 text-red-800",children:s.general}),l.jsxs("form",{className:"space-y-6",onSubmit:c,children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),l.jsx("input",{id:"username",name:"username",type:"text",placeholder:"Enter your username",className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors ${s.username?"border-red-500":"border-gray-300"}`,required:!0}),s.username&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.username})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),l.jsx("input",{id:"fullName",name:"fullName",type:"text",placeholder:"Enter your full name",className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors ${s.fullName?"border-red-500":"border-gray-300"}`,required:!0}),s.fullName&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.fullName})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),l.jsx("input",{id:"email",name:"email",type:"email",placeholder:"Enter your email",className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors ${s.email?"border-red-500":"border-gray-300"}`,required:!0}),s.email&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.email})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),l.jsx("input",{id:"phoneNumber",name:"phoneNumber",type:"tel",placeholder:"Phone number",className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors ${s.phoneNumber?"border-red-500":"border-gray-300"}`,required:!0}),s.phoneNumber&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.phoneNumber})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),l.jsx("input",{id:"password",name:"password",type:"password",placeholder:"Create a password",className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors ${s.password?"border-red-500":"border-gray-300"}`,required:!0,minLength:8}),s.password&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.password})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),l.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",placeholder:"Confirm password",className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors ${s.confirmPassword?"border-red-500":"border-gray-300"}`,required:!0}),s.confirmPassword&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.confirmPassword})]}),l.jsx("button",{type:"submit",disabled:r,className:"w-full bg-primary text-white py-3 rounded-lg font-semibold hover:bg-primary-dark transition-colors flex items-center justify-center",children:r?l.jsxs(l.Fragment,{children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):l.jsxs(l.Fragment,{children:[l.jsx(sh,{className:"h-5 w-5 mr-2"}),"Create ",t==="creator"?"Creator":"Supporter"," Account"]})})]}),l.jsxs("p",{className:"text-center mt-8 text-gray-600",children:["Already have an account?"," ",l.jsx("button",{onClick:()=>e("signin"),className:"text-primary hover:text-primary-dark font-semibold",children:"Sign in here"})]})]})},jm="https://primary-production-6722.up.railway.app/webhook/bd19b116-c24f-4aa6-8066-d583500f2eea",bm=t=>{const e={};return t.email?/\S+@\S+\.\S+/.test(t.email)||(e.email="Please enter a valid email address"):e.email="Email is required",t.password||(e.password="Password is required"),e},Nm=async t=>{const e=bm(t);if(Object.keys(e).length>0)return{success:!1,errors:e};try{const r=new URLSearchParams({email:t.email,password:t.password}).toString(),n=await fetch(jm,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r}),s=await n.text();if(!n.ok)return{success:!1,errors:{general:`Server error: ${n.status}`}};let i;try{i=JSON.parse(s)}catch{i=s}const o=u=>{if(!u||typeof u!="object")return;const c=u,d=[c.public_id,c.publicId,c.user_id,c.userId,c.id];for(const h of d)if(typeof h=="string"&&h.length>0)return h},a=u=>{try{localStorage.setItem("logged_in_email",t.email),u&&localStorage.setItem("public_id",String(u))}catch{}};if(Array.isArray(i)&&i.length>0){const u=i[0];if(u.success===!0)return a(o(u)),{success:!0,message:u.message||"Login successful"};if(u.success===!1){const c=u.message||"Invalid credentials";return c.toLowerCase().includes("invalid credentials")?{success:!1,errors:{email:"Invalid email or password",password:"Invalid email or password"}}:{success:!1,errors:{general:c}}}}if(typeof i=="string"){const u=i.toLowerCase();return u.includes("login successful")?(a(),{success:!0,message:"Login successful"}):u.includes("invalid credentials")?{success:!1,errors:{email:"Invalid email or password",password:"Invalid email or password"}}:{success:!1,errors:{general:i}}}if(i&&typeof i=="object"){const u=i.data??i;if((u==null?void 0:u.success)===!0)return a(o(u)),{success:!0,message:u.message||"Login successful"};if((u==null?void 0:u.success)===!1){const c=u.message||"Invalid credentials";return c.toLowerCase().includes("invalid credentials")?{success:!1,errors:{email:"Invalid email or password",password:"Invalid email or password"}}:{success:!1,errors:{general:c}}}}return{success:!1,errors:{general:"Unexpected response format"}}}catch(r){return{success:!1,errors:{general:r instanceof Error?r.message:"Unknown error"}}}},Em=()=>({handleSubmit:async t=>{var n,s;t.preventDefault();const e=t.currentTarget,r={email:((n=e.elements.namedItem("email"))==null?void 0:n.value)||"",password:((s=e.elements.namedItem("password"))==null?void 0:s.value)||""};return await Nm(r)}}),oh=R.createContext(void 0),Cm=({children:t})=>{const[e,r]=R.useState(()=>localStorage.getItem("isAuthenticated")==="true"),[n,s]=R.useState(()=>localStorage.getItem("currentPage")||"landing"),[i,o]=R.useState(()=>localStorage.getItem("userType")||"creator"),[a,u]=R.useState(null);R.useEffect(()=>{localStorage.setItem("isAuthenticated",e.toString())},[e]),R.useEffect(()=>{localStorage.setItem("currentPage",n)},[n]),R.useEffect(()=>{localStorage.setItem("userType",i)},[i]);const c=()=>r(!0),d=()=>{r(!1),s("landing")},h=v=>{if((v==="main"||v==="creator"||v==="profile")&&!e){s("signin");return}if(v==="landing"&&n==="main"){d();return}s(v)},p=v=>o(v);return l.jsx(oh.Provider,{value:{isAuthenticated:e,currentPage:n,userType:i,login:c,logout:d,navigateTo:h,setUserTypeValue:p,selectedProfile:a,setSelectedProfile:u},children:t})},Xr=()=>{const t=R.useContext(oh);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Pm=({navigateTo:t})=>{const{login:e}=Xr(),[r,n]=R.useState(!1),[s,i]=R.useState({}),[o,a]=R.useState(!1),[u,c]=R.useState(""),{handleSubmit:d}=Em(),h=async v=>{if(!r){n(!0),i({});try{const y=await d(v);y.success?(c(y.message||"Login successful"),a(!0),window.setTimeout(()=>{p()},800)):y.errors&&i(y.errors)}finally{n(!1)}}},p=()=>{a(!1),e(),t("main")};return l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center py-12 px-4",children:l.jsx("div",{className:"max-w-md w-full",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[l.jsx(ih,{message:u,buttonText:"OK",onButtonClick:p,isOpen:o}),l.jsxs("button",{onClick:()=>t("landing"),className:"flex items-center text-primary hover:text-primary-dark transition-colors mb-8",children:[l.jsx(th,{className:"h-5 w-5 mr-2"}),"Back to Home"]}),l.jsxs("div",{className:"flex items-center justify-center mb-8",children:[l.jsx($t,{className:"h-8 w-8 text-primary mr-2"}),l.jsx("span",{className:"text-2xl font-bold text-primary",children:"ConnectLove"})]}),l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),l.jsx("p",{className:"text-gray-600",children:"Sign in to your account to continue your journey"})]}),s.general&&l.jsx("div",{className:"p-4 mb-6 rounded-lg bg-red-100 text-red-800",children:s.general}),l.jsxs("form",{className:"space-y-6",onSubmit:h,children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),l.jsx("input",{id:"email",name:"email",type:"email",placeholder:"Enter your email",className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors ${s.email?"border-red-500":"border-gray-300"}`,required:!0}),s.email&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.email})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),l.jsx("input",{id:"password",name:"password",type:"password",placeholder:"Enter your password",className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors ${s.password?"border-red-500":"border-gray-300"}`,required:!0}),s.password&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.password})]}),l.jsx("div",{className:"text-right",children:l.jsx("a",{href:"#",className:"text-primary hover:text-primary-dark text-sm",children:"Forgot password?"})}),l.jsx("button",{type:"submit",disabled:r,className:"w-full bg-primary text-white py-3 rounded-lg font-semibold hover:bg-primary-dark transition-colors",children:r?"Signing In...":"Sign In"}),l.jsx("div",{className:"text-center mt-6",children:l.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",l.jsx("button",{type:"button",onClick:()=>t("signup"),className:"text-primary hover:text-primary-dark font-medium",children:"Sign Up"})]})})]})]})})})},ah=({onClose:t,navigateTo:e})=>{const{currentPage:r,logout:n,navigateTo:s}=Xr(),i=a=>{var u;(u=e||s)==null||u(a),t&&t()},o=()=>{n(),t&&t()};return l.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden w-48",children:l.jsxs("div",{className:"py-2",children:[l.jsxs("button",{onClick:()=>i("profile"),className:`flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 ${r==="profile"?"bg-gray-100":""}`,children:[l.jsx(ct,{className:"h-4 w-4 mr-3 text-gray-500"}),l.jsx("span",{children:"Profile"})]}),l.jsxs("button",{onClick:()=>i("messages"),className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[l.jsx(vm,{className:"h-4 w-4 mr-3 text-gray-500"}),l.jsx("span",{children:"Wallet"})]}),l.jsxs("button",{onClick:o,className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[l.jsx(lm,{className:"h-4 w-4 mr-3 text-gray-500"}),l.jsx("span",{children:"Logout"})]})]})})},Tm=({navigateTo:t})=>{const[e,r]=R.useState(!1),n=R.useRef(null),s=R.useRef(null),i=()=>{r(!e)},o=()=>{r(!1)};R.useEffect(()=>{const c=d=>{n.current&&!n.current.contains(d.target)&&s.current&&!s.current.contains(d.target)&&r(!1)};return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[]);const a=[{id:1,creator:{name:"Alexandra Star",avatar:"https://i.pravatar.cc/150?img=1",hoursAgo:2},content:"Check out my latest photoshoot behind the scenes...",likes:1247,comments:89,locked:!0},{id:2,creator:{name:"Sophia Dream",avatar:"https://i.pravatar.cc/150?img=5",hoursAgo:5},content:"Here's my complete morning workout routine! This 30-minute session will help you start your day with energy and confidence. Thanks for your support! ✨",image:"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80",likes:892,comments:124,locked:!1},{id:3,creator:{name:"Luna Moon",avatar:"https://i.pravatar.cc/150?img=9",daysAgo:1},content:"Today I want to share something very personal with you...",likes:2156,comments:283,locked:!0,fullPost:!0}],u=[{id:1,name:"Emma Grace",avatar:"https://i.pravatar.cc/150?img=3",category:"Fitness & Wellness",supporters:"12.4K",rating:4.9},{id:2,name:"Maya Chen",avatar:"https://i.pravatar.cc/150?img=4",category:"Art & Design",supporters:"8.6K",rating:4.8},{id:3,name:"Zoe Williams",avatar:"https://i.pravatar.cc/150?img=7",category:"Lifestyle",supporters:"22.1K",rating:4.7},{id:4,name:"Isabella Rose",avatar:"https://i.pravatar.cc/150?img=8",category:"Music",supporters:"12.8K",rating:4.6},{id:5,name:"Aria Storm",avatar:"https://i.pravatar.cc/150?img=10",category:"Gaming",supporters:"15.6K",rating:4.8},{id:6,name:"Lily Parker",avatar:"https://i.pravatar.cc/150?img=11",category:"Cooking",supporters:"9.5K",rating:4.9}];return l.jsxs("div",{className:"main-page bg-background text-gray-900 min-h-screen flex flex-col relative",children:[l.jsx("header",{className:"bg-white shadow-sm py-4 px-4 fixed top-0 left-0 right-0 z-50",children:l.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[l.jsx("div",{className:"text-primary font-bold text-xl",children:"ConnectLove"}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"relative hidden md:block",children:l.jsxs("form",{onSubmit:c=>{c.preventDefault(),t("search")},children:[l.jsx("input",{type:"text",placeholder:"Search...",className:"bg-gray-100 rounded-full py-1 px-4 focus:outline-none focus:ring-2 focus:ring-primary text-sm"}),l.jsx(dr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]})}),l.jsx("button",{className:"text-gray-600 hover:text-gray-900",children:l.jsx(rh,{className:"h-5 w-5"})}),l.jsxs("div",{className:"relative",children:[l.jsx("button",{ref:s,onClick:i,className:"bg-primary hover:bg-primary-dark rounded-full p-1",children:l.jsx(ct,{className:"h-5 w-5 text-white"})}),e&&l.jsx("div",{ref:n,className:"absolute right-0 mt-2 dropdown-animation z-50",children:l.jsx(ah,{onClose:o,navigateTo:t})})]})]})]})}),l.jsx("div",{className:"fixed top-16 left-0 right-0 bg-white shadow-sm z-40 border-b border-gray-200",children:l.jsx("div",{className:"max-w-6xl mx-auto px-4",children:l.jsx("div",{className:"flex justify-between items-center py-2",children:l.jsxs("div",{className:"flex space-x-6",children:[l.jsxs("a",{href:"#",className:"flex items-center py-2 px-3 text-primary font-medium border-b-2 border-primary transition-all duration-200",children:[l.jsx(ku,{className:"h-5 w-5 mr-2"}),l.jsx("span",{children:"Home"})]}),l.jsxs("a",{href:"#",className:"flex items-center py-2 px-3 text-gray-600 hover:text-primary hover:border-b-2 hover:border-primary transition-all duration-200",children:[l.jsx(Su,{className:"h-5 w-5 mr-2"}),l.jsx("span",{children:"Live Stream"})]}),l.jsxs("a",{onClick:()=>t("messages"),className:"flex items-center py-2 px-3 text-gray-600 hover:text-primary hover:border-b-2 hover:border-primary transition-all duration-200 cursor-pointer",children:[l.jsx(to,{className:"h-5 w-5 mr-2"}),l.jsx("span",{children:"Messages"})]})]})})})}),l.jsxs("div",{className:"flex flex-1 max-w-6xl mx-auto px-4 mt-28",children:[l.jsxs("main",{className:"flex-1 py-6 pr-0 md:pr-4",children:[l.jsxs("div",{className:"bg-white rounded-md p-1 mb-4 flex items-center shadow-sm border border-gray-200",children:[l.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700",children:l.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})})}),l.jsx("input",{type:"text",placeholder:"What's on your mind?",className:"flex-1 bg-transparent border-none focus:outline-none text-xs px-2"}),l.jsx("button",{className:"bg-primary text-white rounded-md w-6 h-6 flex items-center justify-center",children:l.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})})})]}),l.jsxs("header",{className:"flex items-center justify-between mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"News Feed"}),l.jsx("div",{className:"flex items-center",children:l.jsx("span",{className:"text-sm text-gray-600 mr-2",children:"Support creators to unlock exclusive content"})})]}),l.jsx("div",{className:"space-y-6",children:a.map(c=>l.jsxs("article",{className:"bg-white rounded-lg overflow-hidden",children:[l.jsxs("div",{className:"p-4 flex items-center",children:[l.jsx("img",{src:c.creator.avatar,alt:c.creator.name,className:"w-10 h-10 rounded-full object-cover mr-3 cursor-pointer",onClick:()=>t("creator")}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:c.creator.name}),l.jsx("p",{className:"text-xs text-gray-600",children:c.creator.hoursAgo?`${c.creator.hoursAgo} hours ago`:`${c.creator.daysAgo} day ago`})]}),!c.locked&&l.jsx("button",{className:"ml-auto bg-primary text-gray-900 text-xs px-3 py-1 rounded-full",children:"Support"})]}),l.jsx("div",{className:"px-4 pb-2",children:l.jsx("p",{className:"mb-4",children:c.content})}),c.locked?l.jsx("div",{className:"relative bg-gradient-to-r from-light-accent/30 to-medium-accent/30 h-64 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(nh,{className:"h-12 w-12 mx-auto mb-2 text-primary"}),l.jsx("h4",{className:"text-lg font-medium mb-2",children:c.fullPost?"Full Content Locked":"Content Locked"}),l.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Support this creator to ",c.fullPost?"read the complete post":"unlock"]}),l.jsx("button",{className:"bg-primary hover:bg-primary-dark text-gray-900 font-medium px-6 py-2 rounded-full transition-colors",children:"Support"})]})}):c.image&&l.jsx("div",{className:"relative",children:l.jsx("img",{src:c.image,alt:"Post content",className:"w-full h-80 object-cover"})}),l.jsxs("div",{className:"px-4 py-3 flex items-center border-t border-gray-200",children:[l.jsxs("button",{className:"flex items-center text-gray-600 hover:text-gray-900 mr-6",children:[l.jsx($t,{className:"h-5 w-5 mr-1"}),l.jsx("span",{children:c.likes})]}),l.jsxs("button",{className:"flex items-center text-gray-600 hover:text-gray-900 mr-6",children:[l.jsx(to,{className:"h-5 w-5 mr-1"}),l.jsx("span",{children:c.comments})]}),l.jsxs("button",{className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(fm,{className:"h-5 w-5 mr-1"}),l.jsx("span",{children:"Share"})]}),c.locked&&l.jsx("span",{className:"ml-auto text-xs text-primary font-medium",children:"Locked"})]})]},c.id))})]}),l.jsx("aside",{className:"hidden lg:block w-72 p-4 mt-6",children:l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-lg font-medium",children:"Suggested Creators"}),l.jsx("svg",{className:"w-4 h-4 text-primary",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"})})]}),l.jsx("div",{className:"space-y-4",children:u.map(c=>l.jsxs("div",{className:"flex items-center",children:[l.jsx("img",{src:c.avatar,alt:c.name,className:"w-10 h-10 rounded-full object-cover mr-3"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("h3",{className:"font-medium text-sm",children:c.name}),l.jsxs("div",{className:"ml-2 flex items-center text-yellow-400",children:[l.jsx("span",{className:"text-xs mr-1",children:"★"}),l.jsx("span",{className:"text-xs",children:c.rating})]})]}),l.jsx("p",{className:"text-xs text-gray-600",children:c.category}),l.jsxs("p",{className:"text-xs text-gray-500",children:[c.supporters," supporters"]})]})]},c.id))}),l.jsx("button",{className:"w-full mt-4 text-sm text-primary hover:text-primary-dark",children:"View all creators →"})]})})]}),l.jsxs("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-3 flex justify-around z-40",children:[l.jsxs("a",{href:"#",className:"flex flex-col items-center text-primary",children:[l.jsx(ku,{className:"w-6 h-6"}),l.jsx("span",{className:"text-xs mt-1",children:"Home"})]}),l.jsxs("a",{onClick:()=>t("search"),className:"flex flex-col items-center text-gray-600 cursor-pointer",children:[l.jsx(dr,{className:"w-6 h-6"}),l.jsx("span",{className:"text-xs mt-1",children:"Explore"})]}),l.jsxs("a",{href:"#",className:"flex flex-col items-center text-gray-600",children:[l.jsx(Su,{className:"w-6 h-6"}),l.jsx("span",{className:"text-xs mt-1",children:"Live"})]}),l.jsxs("a",{onClick:()=>t("messages"),className:"flex flex-col items-center text-gray-600 cursor-pointer",children:[l.jsx(to,{className:"w-6 h-6"}),l.jsx("span",{className:"text-xs mt-1",children:"Messages"})]}),l.jsxs("a",{href:"#",onClick:i,className:"flex flex-col items-center text-gray-600 hover:text-primary",children:[l.jsx(ct,{className:"w-6 h-6"}),l.jsx("span",{className:"text-xs mt-1",children:"Profile"})]})]})]})},Om="modulepreload",Im=function(t){return"/"+t},ju={},Xn=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=Im(u),u in ju)return;ju[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Om,c||(h.as="script"),h.crossOrigin="",h.href=u,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((p,v)=>{h.addEventListener("load",p),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Rm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Xn(async()=>{const{default:n}=await Promise.resolve().then(()=>Zr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class ll extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class $m extends ll{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class bu extends ll{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Nu extends ll{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var na;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(na||(na={}));var Am=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};class Lm{constructor(e,{headers:r={},customFetch:n,region:s=na.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=Rm(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Am(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:u}=r;u||(u=this.region);const c=new URL(`${this.url}/${e}`);u&&u!=="any"&&(a["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(a["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(a["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:d}).catch(w=>{throw new $m(w)}),p=h.headers.get("x-relay-error");if(p&&p==="true")throw new bu(h);if(!h.ok)throw new Nu(h);let v=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return v==="application/json"?y=yield h.json():v==="application/octet-stream"?y=yield h.blob():v==="text/event-stream"?y=h:v==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof Nu||s instanceof bu?s.context:void 0}}})}}var Pe={},ul={},ki={},Zn={},Si={},ji={},Um=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Gr=Um();const Dm=Gr.fetch,lh=Gr.fetch.bind(Gr),uh=Gr.Headers,Mm=Gr.Request,zm=Gr.Response,Zr=Object.freeze(Object.defineProperty({__proto__:null,Headers:uh,Request:Mm,Response:zm,default:lh,fetch:Dm},Symbol.toStringTag,{value:"Module"})),Fm=Ih(Zr);var bi={};Object.defineProperty(bi,"__esModule",{value:!0});let Bm=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};bi.default=Bm;var ch=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ji,"__esModule",{value:!0});const Wm=ch(Fm),Hm=ch(bi);let Vm=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Wm.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,u;let c=null,d=null,h=null,p=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),j=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");w&&j&&j.length>1&&(h=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,p=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await i.text();try{c=JSON.parse(w),Array.isArray(c)&&i.status===404&&(d=[],c=null,p=200,v="OK")}catch{i.status===404&&w===""?(p=204,v="No Content"):c={message:w}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,p=200,v="OK"),c&&this.shouldThrowOnError)throw new Hm.default(c)}return{error:c,data:d,count:h,status:p,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,u;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};ji.default=Vm;var qm=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Si,"__esModule",{value:!0});const Km=qm(ji);let Gm=class extends Km.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const u=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${u};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Si.default=Gm;var Jm=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zn,"__esModule",{value:!0});const Qm=Jm(Si);let Ym=class extends Qm.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Zn.default=Ym;var Xm=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ki,"__esModule",{value:!0});const dn=Xm(Zn);let Zm=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new dn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,u)=>a.concat(Object.keys(u)),[]);if(o.length>0){const a=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",a.join(","))}}return new dn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const u=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new dn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new dn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new dn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ki.default=Zm;var Ni={},Ei={};Object.defineProperty(Ei,"__esModule",{value:!0});Ei.version=void 0;Ei.version="0.0.0-automated";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.DEFAULT_HEADERS=void 0;const eg=Ei;Ni.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${eg.version}`};var dh=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ul,"__esModule",{value:!0});const tg=dh(ki),rg=dh(Zn),ng=Ni;let sg=class hh{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},ng.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new tg.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new hh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let u;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(o="POST",u=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new rg.default({method:o,url:a,headers:c,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};ul.default=sg;var en=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.PostgrestError=Pe.PostgrestBuilder=Pe.PostgrestTransformBuilder=Pe.PostgrestFilterBuilder=Pe.PostgrestQueryBuilder=Pe.PostgrestClient=void 0;const fh=en(ul);Pe.PostgrestClient=fh.default;const ph=en(ki);Pe.PostgrestQueryBuilder=ph.default;const mh=en(Zn);Pe.PostgrestFilterBuilder=mh.default;const gh=en(Si);Pe.PostgrestTransformBuilder=gh.default;const vh=en(ji);Pe.PostgrestBuilder=vh.default;const yh=en(bi);Pe.PostgrestError=yh.default;var ig=Pe.default={PostgrestClient:fh.default,PostgrestQueryBuilder:ph.default,PostgrestFilterBuilder:mh.default,PostgrestTransformBuilder:gh.default,PostgrestBuilder:vh.default,PostgrestError:yh.default};const{PostgrestClient:og,PostgrestQueryBuilder:uv,PostgrestFilterBuilder:cv,PostgrestTransformBuilder:dv,PostgrestBuilder:hv,PostgrestError:fv}=ig;class ag{static dynamicRequire(e){try{return typeof process<"u"&&process.versions&&process.versions.node&&typeof require<"u"?require(e):null}catch{return null}}static detectEnvironment(){var e,r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);if(n>=22)try{if(typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};const s=this.dynamicRequire("undici");if(s&&s.WebSocket)return{type:"native",constructor:s.WebSocket};throw new Error("undici not available")}catch{return{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:'Install the "ws" package or check your Node.js installation.'}}try{const s=this.dynamicRequire("ws");if(s)return{type:"ws",constructor:(r=s.WebSocket)!==null&&r!==void 0?r:s};throw new Error("ws package not available")}catch{return{type:"unsupported",error:`Node.js ${n} detected without WebSocket support.`,workaround:'Install the "ws" package: npm install ws'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const lg="2.15.0",ug=`realtime-js/${lg}`,cg="1.0.0",sa=1e4,dg=1e3,hg=100;var Nn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Nn||(Nn={}));var ae;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ae||(ae={}));var Ze;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ze||(Ze={}));var ia;(function(t){t.websocket="websocket"})(ia||(ia={}));var er;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(er||(er={}));class fg{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+s));o=o+s;const u=n.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:u,payload:c}}}class wh{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var q;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(q||(q={}));const Eu=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=pg(o,t,e,s),i),{})},pg=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?xh(i,o):oa(o)},xh=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return yg(e,r)}switch(t){case q.bool:return mg(e);case q.float4:case q.float8:case q.int2:case q.int4:case q.int8:case q.numeric:case q.oid:return gg(e);case q.json:case q.jsonb:return vg(e);case q.timestamp:return wg(e);case q.abstime:case q.date:case q.daterange:case q.int4range:case q.int8range:case q.money:case q.reltime:case q.text:case q.time:case q.timestamptz:case q.timetz:case q.tsrange:case q.tstzrange:return oa(e);default:return oa(e)}},oa=t=>t,mg=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},gg=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},vg=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},yg=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>xh(e,a))}return t},wg=t=>typeof t=="string"?t.replace(" ","T"):t,_h=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class ro{constructor(e,r,n={},s=sa){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Cu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Cu||(Cu={}));class En{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=En.syncState(this.state,s,i,o),this.pendingDiffs.forEach(u=>{this.state=En.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=En.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},u={};return this.map(i,(c,d)=>{o[c]||(u[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const p=d.map(j=>j.presence_ref),v=h.map(j=>j.presence_ref),y=d.filter(j=>v.indexOf(j.presence_ref)<0),w=h.filter(j=>p.indexOf(j.presence_ref)<0);y.length>0&&(a[c]=y),w.length>0&&(u[c]=w)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:u},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,u)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(u),d.length>0){const h=e[a].map(v=>v.presence_ref),p=d.filter(v=>h.indexOf(v.presence_ref)<0);e[a].unshift(...p)}n(a,d,u)}),this.map(o,(a,u)=>{let c=e[a];if(!c)return;const d=u.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=c,s(a,c,u),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Pu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Pu||(Pu={}));var Cn;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Cn||(Cn={}));var ft;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ft||(ft={}));class cl{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ae.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ro(this,Ze.join,this.params,this.timeout),this.rejoinTimer=new wh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ae.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ae.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ae.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ae.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ae.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ze.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new En(this),this.broadcastEndpointURL=_h(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==ae.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[Cn.PRESENCE]&&this.bindings[Cn.PRESENCE].length>0,d={},h={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:u,private:a};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(ft.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(ft.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket.setAuth(),p===void 0){e==null||e(ft.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,w=(v=y==null?void 0:y.length)!==null&&v!==void 0?v:0,j=[];for(let g=0;g<w;g++){const m=y[g],{filter:{event:f,schema:x,table:C,filter:b}}=m,S=p&&p[g];if(S&&S.event===f&&S.schema===x&&S.table===C&&S.filter===b)j.push(Object.assign(Object.assign({},m),{id:S.id}));else{this.unsubscribe(),this.state=ae.errored,e==null||e(ft.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,e&&e(ft.SUBSCRIBED);return}}).receive("error",p=>{this.state=ae.errored,e==null||e(ft.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ft.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===ae.joined&&e===Cn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,u;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ae.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ze.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new ro(this,Ze.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ae.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ro(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>hg){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:u,leave:c,join:d}=Ze;if(n&&[a,u,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,w,j;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((j=(w=v.filter)===null||w===void 0?void 0:w.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(v=>v.callback(p,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var y,w,j,g,m,f;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const x=v.id,C=(y=v.filter)===null||y===void 0?void 0:y.event;return x&&((w=r.ids)===null||w===void 0?void 0:w.includes(x))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const x=(m=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return x==="*"||x===((f=r==null?void 0:r.event)===null||f===void 0?void 0:f.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:w,table:j,commit_timestamp:g,type:m,errors:f}=y;p=Object.assign(Object.assign({},{schema:w,table:j,commit_timestamp:g,eventType:m,new:{},old:{},errors:f}),this._getPayloadRecords(y))}v.callback(p,n)})}_isClosed(){return this.state===ae.closed}_isJoined(){return this.state===ae.joined}_isJoining(){return this.state===ae.joining}_isLeaving(){return this.state===ae.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&cl.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ze.close,{},e)}_onError(e){this._on(Ze.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ae.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Eu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Eu(e.columns,e.old_record)),r}}const Tu=()=>{},ys={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},xg=[1e3,2e3,5e3,1e4],_g=1e4,kg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Sg{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=sa,this.transport=null,this.heartbeatIntervalMs=ys.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Tu,this.ref=0,this.reconnectTimer=null,this.logger=Tu,this.conn=null,this.sendBuffer=[],this.serializer=new fg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Xn(async()=>{const{default:a}=await Promise.resolve().then(()=>Zr);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${ia.websocket}`,this.httpEndpoint=_h(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ag.createWebSocket(this.endpointURL())}catch(e){throw this._setConnectionState("disconnected"),new Error(`WebSocket not available: ${e.message}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:cg}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Nn.connecting:return er.Connecting;case Nn.open:return er.Open;case Nn.closing:return er.Closing;default:return er.Closed}}isConnected(){return this.connectionState()===er.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new cl(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var u;(u=this.conn)===null||u===void 0||u.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(dg,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ys.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",u=i.status||"";this.log("receive",`${u} ${n} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ze.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([kg],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:ug};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ze.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new wh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ys.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,u,c;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:sa,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:ys.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=e==null?void 0:e.reconnectAfterMs)!==null&&a!==void 0?a:d=>xg[d-1]||_g,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(d,h)=>h(JSON.stringify(d)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class dl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function de(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class jg extends dl{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class aa extends dl{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var bg=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};const kh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Xn(async()=>{const{default:n}=await Promise.resolve().then(()=>Zr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Ng=()=>bg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Xn(()=>Promise.resolve().then(()=>Zr),void 0)).Response:Response}),la=t=>{if(Array.isArray(t))return t.map(r=>la(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=la(n)}),e},Eg=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var pr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};const no=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Cg=(t,e,r)=>pr(void 0,void 0,void 0,function*(){const n=yield Ng();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new jg(no(s),i,o))}).catch(s=>{e(new aa(no(s),s))}):e(new aa(no(t),t))}),Pg=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(Eg(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r))};function es(t,e,r,n,s,i){return pr(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,Pg(e,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>Cg(u,a,n))})})}function si(t,e,r,n){return pr(this,void 0,void 0,function*(){return es(t,"GET",e,r,n)})}function pt(t,e,r,n,s){return pr(this,void 0,void 0,function*(){return es(t,"POST",e,n,s,r)})}function ua(t,e,r,n,s){return pr(this,void 0,void 0,function*(){return es(t,"PUT",e,n,s,r)})}function Tg(t,e,r,n){return pr(this,void 0,void 0,function*(){return es(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Sh(t,e,r,n,s){return pr(this,void 0,void 0,function*(){return es(t,"DELETE",e,n,s,r)})}var Ee=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};const Og={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ou={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ig{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=kh(s)}uploadOrUpdate(e,r,n,s){return Ee(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ou),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,u&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield(e=="PUT"?ua:pt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(de(i))return{data:null,error:i};throw i}})}upload(e,r,n){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return Ee(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let u;const c=Object.assign({upsert:Ou.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield ua(this.fetch,a.toString(),u,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(u){if(de(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,r){return Ee(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield pt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new dl("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}update(e,r,n){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Ee(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}copy(e,r,n){return Ee(this,void 0,void 0,function*(){try{return{data:{path:(yield pt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return Ee(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield pt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return Ee(this,void 0,void 0,function*(){try{const s=yield pt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}download(e,r){return Ee(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield si(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(de(a))return{data:null,error:a};throw a}})}info(e){return Ee(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield si(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:la(n),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}exists(e){return Ee(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Tg(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(de(n)&&n instanceof aa){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return Ee(this,void 0,void 0,function*(){try{return{data:yield Sh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}list(e,r,n){return Ee(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Og),r),{prefix:e||""});return{data:yield pt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Rg="2.10.4",$g={"X-Client-Info":`storage-js/${Rg}`};var gr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};class Ag{constructor(e,r={},n,s){const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},$g),r),this.fetch=kh(n)}listBuckets(){return gr(this,void 0,void 0,function*(){try{return{data:yield si(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(de(e))return{data:null,error:e};throw e}})}getBucket(e){return gr(this,void 0,void 0,function*(){try{return{data:yield si(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return gr(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return gr(this,void 0,void 0,function*(){try{return{data:yield ua(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}emptyBucket(e){return gr(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}deleteBucket(e){return gr(this,void 0,void 0,function*(){try{return{data:yield Sh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}}class Lg extends Ag{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new Ig(this.url,this.headers,e,this.fetch)}}const Ug="2.54.0";let gn="";typeof Deno<"u"?gn="deno":typeof document<"u"?gn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gn="react-native":gn="node";const Dg={"X-Client-Info":`supabase-js-${gn}/${Ug}`},Mg={headers:Dg},zg={schema:"public"},Fg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Bg={};var Wg=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};const Hg=t=>{let e;return t?e=t:typeof fetch>"u"?e=lh:e=fetch,(...r)=>e(...r)},Vg=()=>typeof Headers>"u"?uh:Headers,qg=(t,e,r)=>{const n=Hg(r),s=Vg();return(i,o)=>Wg(void 0,void 0,void 0,function*(){var a;const u=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var Kg=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};function Gg(t){return t.endsWith("/")?t:t+"/"}function Jg(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:u,auth:c,realtime:d,global:h}=e,p={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Kg(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}const jh="2.71.1",_r=30*1e3,ca=3,so=ca*_r,Qg="http://localhost:9999",Yg="supabase.auth.token",Xg={"X-Client-Info":`gotrue-js/${jh}`},da="X-Supabase-Api-Version",bh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Zg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,e0=10*60*1e3;class hl extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function M(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class t0 extends hl{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function r0(t){return M(t)&&t.name==="AuthApiError"}class Nh extends hl{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Gt extends hl{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Nt extends Gt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function n0(t){return M(t)&&t.name==="AuthSessionMissingError"}class ws extends Gt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xs extends Gt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class _s extends Gt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function s0(t){return M(t)&&t.name==="AuthImplicitGrantRedirectError"}class Iu extends Gt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ha extends Gt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function io(t){return M(t)&&t.name==="AuthRetryableFetchError"}class Ru extends Gt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class fa extends Gt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ii="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$u=` 	
\r=`.split(""),i0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<$u.length;e+=1)t[$u[e].charCodeAt(0)]=-2;for(let e=0;e<ii.length;e+=1)t[ii[e].charCodeAt(0)]=e;return t})();function Au(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ii[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ii[n]),e.queuedBits-=6}}function Eh(t,e,r){const n=i0[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Lu(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{l0(o,n,r)};for(let o=0;o<t.length;o+=1)Eh(t.charCodeAt(o),s,i);return e.join("")}function o0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function a0(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}o0(n,e)}}function l0(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function u0(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Eh(t.charCodeAt(s),r,n);return new Uint8Array(e)}function c0(t){const e=[];return a0(t,r=>e.push(r)),new Uint8Array(e)}function d0(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Au(s,r,n)),Au(null,r,n),e.join("")}function h0(t){return Math.round(Date.now()/1e3)+t}function f0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Qe=()=>typeof window<"u"&&typeof document<"u",Jt={tested:!1,writable:!1},Ch=()=>{if(!Qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Jt.tested)return Jt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Jt.tested=!0,Jt.writable=!0}catch{Jt.tested=!0,Jt.writable=!1}return Jt.writable};function p0(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Ph=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Xn(async()=>{const{default:n}=await Promise.resolve().then(()=>Zr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},m0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",kr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Qt=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},bt=async(t,e)=>{await t.removeItem(e)};class Ci{constructor(){this.promise=new Ci.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Ci.promiseConstructor=Promise;function oo(t){const e=t.split(".");if(e.length!==3)throw new fa("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Zg.test(e[n]))throw new fa("JWT not in base64url format");return{header:JSON.parse(Lu(e[0])),payload:JSON.parse(Lu(e[1])),signature:u0(e[2]),raw:{header:e[0],payload:e[1]}}}async function g0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function v0(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function y0(t){return("0"+t.toString(16)).substr(-2)}function w0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,y0).join("")}async function x0(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function _0(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await x0(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vr(t,e,r=!1){const n=w0();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await kr(t,`${e}-code-verifier`,s);const i=await _0(n);return[i,n===i?"plain":"s256"]}const k0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function S0(t){const e=t.headers.get(da);if(!e||!e.match(k0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function j0(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function b0(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const N0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yr(t){if(!N0.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ao(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Uu(t){return JSON.parse(JSON.stringify(t))}var E0=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const Zt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),C0=[502,503,504];async function Du(t){var e;if(!m0(t))throw new ha(Zt(t),0);if(C0.includes(t.status))throw new ha(Zt(t),t.status);let r;try{r=await t.json()}catch(i){throw new Nh(Zt(i),i)}let n;const s=S0(t);if(s&&s.getTime()>=bh["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ru(Zt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Nt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Ru(Zt(r),t.status,r.weak_password.reasons);throw new t0(Zt(r),t.status||500,n)}const P0=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function F(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[da]||(i[da]=bh["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await T0(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function T0(t,e,r,n,s,i){const o=P0(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(u){throw console.error(u),new ha(Zt(u),0)}if(a.ok||await Du(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(u){await Du(u)}}function dt(t){var e;let r=null;$0(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=h0(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Mu(t){const e=dt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ot(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function O0(t){return{data:t,error:null}}function I0(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=E0(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},o);return{data:{properties:a,user:u},error:null}}function R0(t){return t}function $0(t){return t.access_token&&t.refresh_token&&t.expires_in}const lo=["global","local","others"];var A0=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class L0{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Ph(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=lo[0]){if(lo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${lo.join(", ")}`);try{return await F(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await F(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ot})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=A0(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await F(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:I0,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(M(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await F(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ot})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,u;try{const c={nextPage:null,lastPage:0,total:0},d=await F(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:R0});if(d.error)throw d.error;const h=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(u=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(y.split(";")[1].split("=")[1]);c[`${j}Page`]=w}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(M(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){yr(e);try{return await F(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ot})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){yr(e);try{return await F(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Ot})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){yr(e);try{return await F(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ot})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){yr(e.userId);try{const{data:r,error:n}=await F(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(M(r))return{data:null,error:r};throw r}}async _deleteFactor(e){yr(e.userId),yr(e.id);try{return{data:await F(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}}function zu(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function U0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const wr={debug:!!(globalThis&&Ch()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Th extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class D0 extends Th{}async function M0(t,e,r){wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),wr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new D0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(wr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}U0();const z0={url:Qg,storageKey:Yg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Xg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Fu(t,e,r){return await r()}const xr={};class qn{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=qn.nextInstanceID,qn.nextInstanceID+=1,this.instanceID>0&&Qe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},z0),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new L0({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ph(s.fetch),this.lock=s.lock||Fu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Qe()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=M0:this.lock=Fu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Ch()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=zu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=zu(this.memoryStorage)),Qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=xr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){xr[this.storageKey]=Object.assign(Object.assign({},xr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=xr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){xr[this.storageKey]=Object.assign(Object.assign({},xr[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${jh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=p0(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Qe()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),s0(i)){const u=(e=i.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return M(r)?{error:r}:{error:new Nh("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:dt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(M(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:p}=e;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await vr(this.storage,this.storageKey)),i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:v,code_challenge_method:y},xform:dt})}else if("phone"in e){const{phone:d,password:h,options:p}=e;i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:dt})}else throw new xs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(M(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Mu})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Mu})}else throw new xs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ws}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,o,a,u,c,d,h,p,v;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:j,wallet:g,statement:m,options:f}=e;let x;if(Qe())if(typeof g=="object")x=g;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))x=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=g}const C=new URL((r=f==null?void 0:f.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in x&&x.signIn){const b=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},f==null?void 0:f.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),m?{statement:m}:null));let S;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")S=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)S=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)y=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),w=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${C.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(s=(n=f==null?void 0:f.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=f==null?void 0:f.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${f.signInWithSolana.notBefore}`]:[],...!((o=f==null?void 0:f.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${f.signInWithSolana.expirationTime}`]:[],...!((a=f==null?void 0:f.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${f.signInWithSolana.chainId}`]:[],...!((u=f==null?void 0:f.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${f.signInWithSolana.nonce}`]:[],...!((c=f==null?void 0:f.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${f.signInWithSolana.requestId}`]:[],...!((h=(d=f==null?void 0:f.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...f.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const b=await x.signMessage(new TextEncoder().encode(y),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=b}}try{const{data:j,error:g}=await F(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:d0(w)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:dt});if(g)throw g;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new ws}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:g})}catch(j){if(M(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(e){const r=await Qt(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await F(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:dt});if(await bt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ws}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(M(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await F(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:dt}),{data:u,error:c}=a;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new ws}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:u}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await vr(this.storage,this.storageKey));const{error:h}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:u}=e,{data:c,error:d}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new xs("You must provide either an email or phone number.")}catch(a){if(M(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await F(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:dt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,c=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await vr(this.storage,this.storageKey)),await F(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:O0})}catch(i){if(M(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Nt;const{error:s}=await F(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(M(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await F(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await F(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new xs("You must provide either an email or phone number and a type")}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Qt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<so:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Qt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=ao()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ot}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Nt}:await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ot})})}catch(r){if(M(r))return n0(r)&&(await this._removeSession(),await bt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Nt;const o=s.session;let a=null,u=null;this.flowType==="pkce"&&e.email!=null&&([a,u]=await vr(this.storage,this.storageKey));const{data:c,error:d}=await F(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:u}),jwt:o.access_token,xform:Ot});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Nt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=oo(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:u}=await this._getUser(e.access_token);if(u)throw u;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(M(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Nt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Qe())throw new _s("No browser detected.");if(e.error||e.error_description||e.error_code)throw new _s(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Iu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _s("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Iu("No code detected.");const{data:m,error:f}=await this._exchangeCodeForSession(e.code);if(f)throw f;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:u,token_type:c}=e;if(!i||!a||!o||!c)throw new _s("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let p=d+h;u&&(p=parseInt(u));const v=p-d;v*1e3<=_r&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const y=p-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,d);const{data:w,error:j}=await this._getUser(i);if(j)throw j;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(M(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Qt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(r0(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await bt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=f0(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await vr(this.storage,this.storageKey,!0));try{return await F(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(M(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,u,c,d;const{data:h,error:p}=i;if(p)throw p;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await F(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Qe()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(M(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await F(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await v0(async s=>(s>0&&await g0(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await F(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:dt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&io(i)&&Date.now()+o-n<_r})}catch(n){if(this._debug(r,"error",n),M(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Qe()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Qt(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Qt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await kr(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:ao()}else if(s&&!s.user&&!s.user){const o=await Qt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await bt(this.storage,this.storageKey+"-user"),await kr(this.storage,this.storageKey,s)):s.user=ao()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<so;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${so}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),io(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Nt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ci;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Nt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),M(i)){const o={session:null,error:i};return io(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await kr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Uu(s);await kr(this.storage,this.storageKey,i)}else{const s=Uu(r);await kr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await bt(this.storage,this.storageKey),await bt(this.storage,this.storageKey+"-code-verifier"),await bt(this.storage,this.storageKey+"-user"),this.userStorage&&await bt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Qe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),_r);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/_r);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${_r}ms, refresh threshold is ${ca} ticks`),s<=ca&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Th)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await vr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await F(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:u,error:c}=await F(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(M(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(M(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=oo(s.access_token);let a=null;o.aal&&(a=o.aal);let u=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+e0>s)return n;const{data:i,error:o}=await F(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:y}=await this.getSession();if(y||!v.session)return{data:null,error:y};n=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:u}}=oo(n);r!=null&&r.allowExpired||j0(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const d=b0(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,c0(`${a}.${u}`)))throw new fa("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}}}qn.nextInstanceID=0;const F0=qn;class B0 extends F0{constructor(e){super(e)}}var W0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};class H0{constructor(e,r,n){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=Gg(e),u=new URL(a);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,d={db:zg,realtime:Bg,auth:Object.assign(Object.assign({},Fg),{storageKey:c}),global:Mg},h=Jg(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=qg(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new og(new URL("rest/v1",u).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new Lg(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new Lm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return W0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new B0({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:u,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Sg(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const V0=(t,e,r)=>new H0(t,e,r);function q0(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}q0()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const K0=void 0,G0=void 0;throw new Error("[Supabase] VITE_SUPABASE_URL is required. Create a .env file from .env.example and set your values.");const V=V0(K0,G0),J0="https://primary-production-6722.up.railway.app/webhook/b6898404-3957-48ad-b8a8-b3ba30e1a9ab";async function Q0({supporterId:t,creatorId:e,selectedTier:r,setSupportTags:n,setLoading:s,onSuccess:i,onError:o,webhookUrl:a}){const u=a||J0;try{s==null||s(!0);const c=async y=>{if(y.includes("@")){const{data:w,error:j}=await V.from("users").select("id").eq("email",y).maybeSingle(),g=w;if(!j&&g)return g.id||y}{const{data:w,error:j}=await V.from("users").select("id").eq("username",y).maybeSingle(),g=w;if(!j&&g)return g.id||y}{const{data:w,error:j}=await V.from("users").select("id").eq("id",y).maybeSingle(),g=w;if(!j&&g)return g.id||y}return y},d=y=>/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/i.test(y),h=d(t)?t:await c(t),p=d(e)?e:await c(e);if(!d(h)){const y="Could not resolve supporter to a valid ID. Please re-login or try again.";o?o(y):window.alert(y);return}if(!d(p)){const y="Could not resolve creator to a valid ID.";o?o(y):window.alert(y);return}const v=await fetch(u,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({supporter_id:h,creator_id:p,tier:r})});if(!v.ok){const y=await v.text().catch(()=>""),w=`Support request failed (${v.status}): ${y||"Unknown error"}`;o?o(w):window.alert(w);return}n(y=>({...y||{},[h]:r})),i==null||i()}catch(c){const d=c instanceof Error?c.message:"Network error";o?o(d):window.alert(d)}finally{s==null||s(!1)}}const Y0=({navigateTo:t})=>{const{selectedProfile:e}=Xr(),[r,n]=R.useState(!1),[s,i]=R.useState(!1),[o,a]=R.useState({}),[u,c]=R.useState("Bronze"),[d,h]=R.useState(!1),p=R.useRef(null),v=R.useRef(null);R.useEffect(()=>{if(t)try{const S=localStorage.getItem("public_id")||"",I=localStorage.getItem("logged_in_email")||"",z=localStorage.getItem("username")||"",U=[S,I,z].filter(Boolean).map(_e=>String(_e).toLowerCase()),re=[e==null?void 0:e.username,e==null?void 0:e.name].filter(Boolean).map(_e=>String(_e).toLowerCase());U.length>0&&re.length>0&&U.some(_e=>re.includes(_e))&&t("profile")}catch{}},[e,t]);const y=async()=>{const S=localStorage.getItem("public_id")||localStorage.getItem("logged_in_email")||"",I=(e==null?void 0:e.username)||(e==null?void 0:e.name)||"";if(!S||!I){alert("Missing supporter or creator identity. Please sign in and try again.");return}await Q0({supporterId:S,creatorId:I,selectedTier:u,setSupportTags:a,setLoading:i,onSuccess:()=>{n(!1)}})},j=o[localStorage.getItem("public_id")||localStorage.getItem("logged_in_email")||""||""],g=()=>{h(!d)},m=()=>{h(!1)};R.useEffect(()=>{const S=I=>{p.current&&!p.current.contains(I.target)&&v.current&&!v.current.contains(I.target)&&h(!1)};return document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[]);const f={name:(e==null?void 0:e.name)||"Creator",username:e!=null&&e.username?`@${e.username}`:"@creator",bio:(e==null?void 0:e.bio)||"Welcome to my profile! 🎉",supporters:(e==null?void 0:e.supporters)||"0",posts:89,rating:(e==null?void 0:e.rating)??4.8},x=f.name,C=[{id:1,author:"Sarah Johnson",timeAgo:"2 hours ago",content:"",likes:24,locked:!0},{id:2,author:"Sarah Johnson",timeAgo:"5 hours ago",content:"Just finished an amazing workout session! 💪 Who wants to join me for tomorrow's session?",likes:42,locked:!1},{id:3,author:"Sarah Johnson",timeAgo:"1 day ago",content:"",likes:18,locked:!0},{id:4,author:"Sarah Johnson",timeAgo:"1 day ago",content:"",likes:18,locked:!0},{id:5,author:"Sarah Johnson",timeAgo:"1 day ago",content:"",likes:18,locked:!1},{id:6,author:"Sarah Johnson",timeAgo:"1 day ago",content:"",likes:18,locked:!0},{id:7,author:"Sarah Johnson",timeAgo:"1 day ago",content:"",likes:1e3,locked:!0}],b=()=>{t&&t("main")};return l.jsxs("div",{className:"creator-page bg-background min-h-screen",children:[l.jsx("header",{className:"bg-white shadow-sm py-2 px-4 fixed top-0 left-0 right-0 z-50",children:l.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("button",{onClick:b,className:"text-gray-600 hover:text-gray-900 mr-4",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),l.jsx("div",{className:"text-primary font-bold text-xl",children:"ConnectLove"})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"relative hidden md:block",children:[l.jsx("input",{type:"text",placeholder:"Search...",className:"bg-gray-100 rounded-full py-1 px-4 focus:outline-none focus:ring-2 focus:ring-primary text-sm"}),l.jsx(dr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]}),l.jsx("button",{className:"text-gray-600 hover:text-gray-900",children:l.jsx(rh,{className:"h-5 w-5"})}),l.jsxs("div",{className:"relative",children:[l.jsx("button",{ref:v,onClick:g,className:"bg-primary hover:bg-primary-dark rounded-full p-1",children:l.jsx(ct,{className:"h-5 w-5 text-white"})}),d&&l.jsx("div",{ref:p,className:"absolute right-0 mt-2 dropdown-animation z-50",children:l.jsx(ah,{onClose:m,navigateTo:t})})]})]})]})}),l.jsxs("div",{className:"flex flex-col md:flex-row max-w-6xl mx-auto pt-20",children:[l.jsxs("div",{className:"profile-section md:w-1/3 relative p-4 md:p-6 flex flex-col items-center bg-white rounded-lg shadow-sm my-4 mx-2 overflow-y-auto",children:[l.jsxs("div",{className:"profile-avatar w-24 h-24 border-4 border-white rounded-full overflow-hidden bg-gray-100 mb-4 relative shadow-md",children:[l.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500",children:l.jsx(ct,{className:"h-16 w-16"})}),l.jsx("div",{className:"absolute bottom-1 right-1 w-6 h-5 bg-green-500 rounded-full border-2 border-white pulse-animation"})]}),l.jsx("h1",{className:"text-xl font-bold text-center text-gray-800",children:f.name}),l.jsx("p",{className:"text-primary text-sm mb-2",children:f.username}),l.jsx("p",{className:"text-gray-600 text-sm text-center mb-4",children:f.bio}),l.jsxs("div",{className:"flex justify-center space-x-6 w-full mb-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-xl font-bold text-gray-800",children:f.supporters}),l.jsx("div",{className:"text-gray-500 text-xs",children:"Supporters"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-xl font-bold text-gray-800",children:f.posts}),l.jsx("div",{className:"text-gray-500 text-xs",children:"Posts"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-xl font-bold text-gray-800",children:f.rating}),l.jsx("div",{className:"text-gray-500 text-xs",children:"Rating"})]})]}),l.jsxs("div",{className:"supporter-badges flex flex-wrap justify-center gap-2 mb-6",children:[l.jsx("div",{className:"supporter-badge bg-purple-600 text-white rounded-full p-1 shadow-sm",children:l.jsx("span",{className:"inline-block w-6 h-6 rounded-full flex items-center justify-center font-bold",children:"P"})}),l.jsx("div",{className:"supporter-badge bg-yellow-500 text-yellow-900 rounded-full p-1 shadow-sm",children:l.jsx("span",{className:"inline-block w-6 h-6 rounded-full flex items-center justify-center font-bold",children:"G"})}),l.jsx("div",{className:"supporter-badge bg-gray-400 text-gray-800 rounded-full p-1 shadow-sm",children:l.jsx("span",{className:"inline-block w-6 h-6 rounded-full flex items-center justify-center font-bold",children:"S"})}),l.jsx("div",{className:"supporter-badge bg-amber-700 text-amber-200 rounded-full p-1 shadow-sm",children:l.jsx("span",{className:"inline-block w-6 h-6 rounded-full flex items-center justify-center font-bold",children:"B"})})]}),l.jsxs("button",{onClick:()=>n(!0),className:"w-full bg-primary hover:bg-primary-dark text-white font-semibold rounded-full px-6 py-2 flex items-center justify-center transition-colors mb-4",children:[l.jsx($t,{className:"h-4 w-4 mr-2"}),"Support Creator"]}),l.jsxs("div",{className:"flex justify-center space-x-8 w-full pt-4 border-t border-gray-200",children:[l.jsxs("button",{className:"flex items-center text-gray-500 hover:text-primary",children:[l.jsx(sh,{className:"h-5 w-5 mr-2"}),l.jsx("span",{children:"Settings"})]}),l.jsxs("button",{className:"flex items-center text-gray-500 hover:text-primary",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),l.jsx("span",{children:"Privacy"})]})]})]}),l.jsxs("div",{className:"content-section md:w-2/3 p-4",children:[l.jsx("div",{className:"mb-4",children:l.jsxs("button",{className:"w-full bg-primary hover:bg-primary-dark text-white font-semibold rounded-lg py-3 flex items-center justify-center transition-colors",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Create New Post"]})}),l.jsx("div",{className:"posts-feed space-y-4 pb-20",children:C.map(S=>l.jsx("div",{className:"post bg-white rounded-lg overflow-hidden shadow-sm",children:l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center mr-3",children:l.jsx(ct,{className:"h-6 w-6 text-gray-500"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold text-gray-800",children:x}),l.jsx("div",{className:"text-xs text-gray-500",children:S.timeAgo})]}),S.locked&&l.jsx("div",{className:"ml-auto",children:l.jsxs("span",{className:"bg-primary bg-opacity-20 text-white text-xs px-2 py-1 rounded-md flex items-center",children:[l.jsx(nh,{className:"h-3 w-3 mr-1"}),"Locked"]})})]}),S.content&&l.jsx("div",{className:"mt-3",children:l.jsx("p",{className:"text-gray-700",children:S.content})}),S.locked?l.jsx("div",{className:"mt-4 bg-gray-50 rounded-lg p-8 flex flex-col items-center justify-center",children:l.jsx("button",{className:"bg-primary hover:bg-primary-dark text-white font-semibold rounded-lg px-6 py-2 transition-colors",children:"Unlock Content"})}):null,l.jsx("div",{className:"mt-4 flex items-center",children:l.jsxs("button",{className:"flex items-center text-gray-500 hover:text-primary",children:[l.jsx($t,{className:"h-5 w-5 mr-1"}),l.jsx("span",{children:S.likes})]})})]})},S.id))})]})]}),r&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-5 relative shadow-lg",children:[l.jsx("button",{onClick:()=>n(!1),className:"absolute top-3 right-3 text-gray-500 hover:text-gray-800",children:l.jsx(ym,{className:"h-5 w-5"})}),l.jsxs("h2",{className:"text-xl font-bold text-center mb-2 text-gray-800",children:["Support ",f.name]}),l.jsx("p",{className:"text-gray-600 text-center text-sm mb-1",children:"Choose your support level and earn exclusive benefits!"}),j?l.jsxs("p",{className:"text-xs text-center text-primary mb-3",children:["Your current tier: ",j]}):l.jsx("p",{className:"text-xs text-center text-gray-400 mb-3",children:"No active tier yet"}),l.jsxs("div",{className:"space-y-3 mb-5",children:[l.jsxs("div",{className:`bg-gray-50 hover:bg-gray-100 rounded-lg p-3 flex items-center cursor-pointer border transition-colors ${u==="Platinum"?"border-primary":"border-transparent"}`,onClick:()=>c("Platinum"),children:[l.jsx("div",{className:"supporter-badge bg-purple-600 text-white rounded-full p-1 mr-3",children:l.jsx("span",{className:"inline-block w-8 h-8 rounded-full flex items-center justify-center font-bold",children:"P"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold text-gray-800",children:"Platinum Supporter"}),l.jsx("div",{className:"text-xs text-gray-600",children:"$20 Platinum Credit"})]})]}),l.jsxs("div",{className:`bg-gray-50 hover:bg-gray-100 rounded-lg p-3 flex items-center cursor-pointer border transition-colors ${u==="Gold"?"border-primary":"border-transparent"}`,onClick:()=>c("Gold"),children:[l.jsx("div",{className:"supporter-badge bg-yellow-500 text-yellow-900 rounded-full p-1 mr-3",children:l.jsx("span",{className:"inline-block w-8 h-8 rounded-full flex items-center justify-center font-bold",children:"G"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold text-gray-800",children:"Gold Supporter"}),l.jsx("div",{className:"text-xs text-gray-600",children:"$10 Gold Credit"})]})]}),l.jsxs("div",{className:`bg-gray-50 hover:bg-gray-100 rounded-lg p-3 flex items-center cursor-pointer border transition-colors ${u==="Silver"?"border-primary":"border-transparent"}`,onClick:()=>c("Silver"),children:[l.jsx("div",{className:"supporter-badge bg-gray-400 text-gray-800 rounded-full p-1 mr-3",children:l.jsx("span",{className:"inline-block w-8 h-8 rounded-full flex items-center justify-center font-bold",children:"S"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold text-gray-800",children:"Silver Supporter"}),l.jsx("div",{className:"text-xs text-gray-600",children:"$5 Silver Credit"})]})]}),l.jsxs("div",{className:`bg-gray-50 hover:bg-gray-100 rounded-lg p-3 flex items-center cursor-pointer border transition-colors ${u==="Bronze"?"border-primary":"border-transparent"}`,onClick:()=>c("Bronze"),children:[l.jsx("div",{className:"supporter-badge bg-amber-700 text-amber-200 rounded-full p-1 mr-3",children:l.jsx("span",{className:"inline-block w-8 h-8 rounded-full flex items-center justify-center font-bold",children:"B"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold text-gray-800",children:"Bronze Supporter"}),l.jsx("div",{className:"text-xs text-gray-600",children:"$3 Bronze Credit"})]})]})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{onClick:()=>n(!1),className:"w-1/2 py-2 text-center rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-800 transition-colors",children:"Cancel"}),l.jsx("button",{onClick:y,disabled:s||j===u,className:`w-1/2 py-2 text-center rounded-lg text-white font-semibold transition-colors ${s?"bg-primary/60 cursor-not-allowed":"bg-primary hover:bg-primary-dark"}`,children:s?"Processing...":j===u?"Already on this tier":"Support Now"})]})]})})]})},uo=t=>{if(!t)return!1;try{const e=new URL(t);return/(\.apng|\.avif|\.bmp|\.gif|\.heic|\.heif|\.ico|\.jpe?g|\.png|\.svg|\.tiff?|\.webp)(\?.*)?$/i.test(e.pathname)}catch{return!1}},X0=({onSelectConversation:t,selectedConversationId:e})=>{const[r,n]=R.useState([]),[s,i]=R.useState(""),[o,a]=R.useState(!1),[u,c]=R.useState([]),[d,h]=R.useState(!1),[p,v]=R.useState(!1),[y,w]=R.useState(null),j=R.useRef(null),g=R.useRef(null),m=R.useMemo(()=>{const _=new Set,T=[];for(const O of r)_.has(O.id)||(_.add(O.id),T.push(O));return T},[r]),[f,x]=R.useState(localStorage.getItem("current_user_id")||localStorage.getItem("public_id")||localStorage.getItem("logged_in_email")||""),C=R.useCallback(_=>{const T=_||localStorage.getItem("current_user_id")||localStorage.getItem("public_id")||localStorage.getItem("logged_in_email")||"";T!==f&&x(T)},[f]);R.useEffect(()=>{const _=()=>{C()};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[f,C]);const b=R.useCallback(async _=>{if(!_)return null;if(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(_))return _;const{data:O,error:A}=await V.from("users").select("id").or(`username.eq.${_},email.eq.${_}`).single();return A||!O?(console.error("Failed to resolve userId for:",_,A),null):O.id},[]),S=R.useCallback(_=>{const T=new Date(_),A=new Date().getTime()-T.getTime(),k=Math.floor(A/6e4),P=Math.floor(k/60),N=Math.floor(P/24);return k<1?"Just now":k<60?`${k}m ago`:P<24?`${P}h ago`:N<7?`${N}d ago`:T.toLocaleDateString()},[]),I=R.useCallback(async(_,T)=>{const{data:O,error:A}=await V.from("conversations").select("conversation_id").or(`and(participant1_id.eq.${_},participant2_id.eq.${T}),and(participant1_id.eq.${T},participant2_id.eq.${_})`).limit(1);if(A)return console.error("Error checking existing conversation:",A),null;if(O&&O.length>0)return O[0].conversation_id;const{data:k,error:P}=await V.from("conversations").insert({participant1_id:_,participant2_id:T}).select("conversation_id").single();return P?(console.error("Error creating conversation:",P),null):(k==null?void 0:k.conversation_id)??null},[]),z=R.useCallback(async(_,T)=>{const O=await b(f),A=await b(T);if(!(!O||!A))try{v(!0);const k=r.findIndex(Ge=>Ge.id===_),{data:P,error:N}=await V.from("messages").select("message_text, created_at, sender_id").eq("conversation_id",_).order("created_at",{ascending:!1}).limit(1);N&&console.error(N);const L=(P==null?void 0:P[0])??null,{data:D,error:ke}=await V.from("users").select("username, full_name, avatar_url").eq("id",A).single();ke&&console.error(ke);const oe=(L==null?void 0:L.message_text)||"",Ke=oe?uo(oe)?"Sent a photo":oe:"No messages yet",ee=L&&L.sender_id===O?`You, ${Ke}`:Ke,ce={id:_,name:(D==null?void 0:D.full_name)||(D==null?void 0:D.username)||"Unknown User",avatar:(D==null?void 0:D.avatar_url)||"",lastMessage:ee,time:S(L?L.created_at:new Date().toISOString()),unread:0,sender_id:O,receiver_id:A,otherUserId:A};if(k>=0){const Ge=[...r];Ge[k]=ce,n(Ge)}else n(Ge=>[ce,...Ge])}catch(k){console.error("Error adding/updating conversation:",k)}finally{v(!1)}},[r,f,S,b]);R.useEffect(()=>{const _=window;return _.addOrUpdateConversation=z,()=>{delete _.addOrUpdateConversation}},[z]);const U=R.useCallback(async()=>{const _=await b(f);if(!_){w("User not found."),n([]);return}try{v(!0);const{data:T,error:O}=await V.from("conversations").select("conversation_id, participant1_id, participant2_id, created_at").or(`participant1_id.eq.${_},participant2_id.eq.${_}`).order("created_at",{ascending:!1});if(O)throw O;if(!T||T.length===0){n([]),v(!1);return}const A=[];for(const k of T){const P=k.participant1_id===_?k.participant2_id:k.participant1_id,{data:N}=await V.from("messages").select("message_text, created_at, sender_id").eq("conversation_id",k.conversation_id).order("created_at",{ascending:!1}).limit(1),L=(N==null?void 0:N[0])??null,D=(L==null?void 0:L.message_text)||"",ke=D?uo(D)?"Sent a photo":D:"No messages yet",oe=L&&L.sender_id===_?`You, ${ke}`:ke;A.push({id:k.conversation_id,name:"Loading...",avatar:"",lastMessage:oe,time:S(L?L.created_at:k.created_at),unread:0,sender_id:_,receiver_id:P,otherUserId:P})}for(let k=0;k<A.length;k++){const P=A[k],{data:N}=await V.from("users").select("username, full_name, avatar_url").eq("id",P.otherUserId).single();N&&(A[k]={...P,name:N.full_name||N.username||"Unknown User",avatar:N.avatar_url||""})}n(A)}catch(T){console.error(T),w("Failed to load conversations."),n([])}finally{v(!1)}},[f,S,b]);R.useEffect(()=>{const _=window;return _.fetchConversations=U,()=>{delete _.fetchConversations}},[U]),R.useEffect(()=>{j.current&&(j.current.unsubscribe(),j.current=null),g.current&&(g.current.unsubscribe(),g.current=null);let _=!0;return(async()=>{const O=await b(f);if(!O||!_)return;const A=V.channel(`ml:messages:${O}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},async P=>{const N=P.new;if(N.sender_id!==O&&N.receiver_id!==O)return;const L=N.sender_id===O?N.receiver_id:N.sender_id,D=N.message_text??N.message??N.content??"",ke=D?uo(D)?"Sent a photo":D:"",oe=N.sender_id===O?`You, ${ke}`:ke,Ke=(()=>{try{return S(N.created_at)}catch{return"Just now"}})();n(ee=>{const ce=ee.findIndex(tn=>tn.id===N.conversation_id);if(ce!==-1){const tn=[...ee],Oh={...tn[ce],lastMessage:oe,time:Ke};return tn.splice(ce,1),[Oh,...tn]}return[{id:N.conversation_id,name:"Loading...",avatar:"",lastMessage:oe,time:Ke,unread:0,sender_id:N.sender_id,receiver_id:N.receiver_id,otherUserId:L},...ee]});try{const{data:ee}=await V.from("users").select("username, full_name, avatar_url").eq("id",L).single();ee&&n(ce=>ce.map(Ge=>Ge.id===N.conversation_id?{...Ge,name:ee.full_name||ee.username||"Unknown User",avatar:ee.avatar_url||""}:Ge))}catch(ee){console.error("[messageList] enrich user error",ee)}});A.subscribe(),j.current=A;const k=V.channel(`ml:conversations:${O}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"conversations"},async P=>{const N=P.new;if(N.participant1_id!==O&&N.participant2_id!==O)return;const L=N.participant1_id===O?N.participant2_id:N.participant1_id;await z(N.conversation_id,L)}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"conversations"},async P=>{const N=P.new;if(N.participant1_id!==O&&N.participant2_id!==O)return;const L=N.participant1_id===O?N.participant2_id:N.participant1_id;await z(N.conversation_id,L)});k.subscribe(),g.current=k})(),()=>{_=!1,j.current&&(j.current.unsubscribe(),j.current=null),g.current&&(g.current.unsubscribe(),g.current=null)}},[f,b,S,z]),R.useEffect(()=>{U()},[f,U]);const re=_=>{i(_.target.value),_.target.value===""&&h(!1)},st=async _=>{if(_.preventDefault(),!s.trim()){w("Please enter a search term");return}a(!0),w(null),h(!0);try{const{data:T,error:O}=await V.from("users").select("id, username, full_name, avatar_url").or(`username.ilike.%${s}%,full_name.ilike.%${s}%,email.ilike.%${s}%`).limit(10);if(O)throw O;const A=(T==null?void 0:T.map(k=>({id:k.id,name:k.full_name||k.username||"Unknown User",avatar:k.avatar_url||"",lastMessage:"Start a conversation",time:"Now",unread:0})))||[];c(A)}catch(T){console.error(T),w("Search failed. Please try again.")}finally{a(!1)}},_e=async _=>{if(_)try{const T=await b(f),O=await b(_);if(!T||!O)return;const A=await I(T,O);if(!A)return;await z(A,O),t(A),h(!1)}catch(T){console.error(T)}};return l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Messages"})}),l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsx("div",{className:"relative",children:l.jsxs("form",{onSubmit:st,className:"relative w-full",children:[l.jsx("input",{type:"text",value:s,onChange:re,placeholder:"Search users...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"}),l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(dr,{className:"h-5 w-5 text-gray-400"})}),l.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-primary",disabled:o,children:l.jsx(dr,{className:"h-5 w-5"})})]})})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:p&&m.length===0?l.jsx("div",{className:"flex justify-center items-center h-32",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):y?l.jsx("div",{className:"text-center p-4 text-red-500",children:y}):l.jsx(l.Fragment,{children:d?o?l.jsx("div",{className:"flex justify-center items-center h-32",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):u.length>0?u.map(_=>l.jsx("div",{onClick:()=>_e(_.id),className:"p-3 hover:bg-gray-50 rounded-lg cursor-pointer transition-colors",children:l.jsxs("div",{className:"flex items-center",children:[_.avatar?l.jsx("img",{src:_.avatar,alt:_.name,className:"h-12 w-12 rounded-full object-cover"}):l.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-200 flex items-center justify-center",children:l.jsx(ct,{className:"h-6 w-6 text-gray-500"})}),l.jsxs("div",{className:"ml-3 flex-1",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:_.name}),l.jsx("p",{className:"text-xs text-gray-500",children:_.time})]}),l.jsx("p",{className:"text-xs text-gray-500 truncate",children:_.lastMessage})]})]})},_.id)):l.jsx("div",{className:"text-center p-4 text-gray-500",children:"No results found"}):m.length===0?l.jsxs("div",{className:"text-center p-4 text-gray-500",children:[l.jsx("p",{children:"Search for users to start chatting"}),l.jsx("p",{className:"text-xs mt-1",children:"Your conversations will appear here"})]}):m.map(_=>l.jsx("div",{onClick:()=>t(_.id),className:`p-3 rounded-lg cursor-pointer transition-colors hover:bg-gray-50 ${e===_.id?"bg-gray-100/70":""}`,children:l.jsxs("div",{className:"flex items-center",children:[_.avatar?l.jsx("img",{src:_.avatar,alt:_.name,className:"h-12 w-12 rounded-full object-cover"}):l.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-200 flex items-center justify-center",children:l.jsx(ct,{className:"h-6 w-6 text-gray-500"})}),l.jsxs("div",{className:"ml-3 flex-1",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:_.name}),l.jsx("p",{className:"text-xs text-gray-500",children:_.time})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("p",{className:"text-xs text-gray-500 truncate",children:_.lastMessage}),_.unread>0&&l.jsx("span",{className:"bg-primary text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:_.unread})]})]})]})},_.id))})})]})},Z0=({navigateTo:t})=>{const[e,r]=R.useState(localStorage.getItem("current_user_id")||localStorage.getItem("public_id")||localStorage.getItem("logged_in_email")||localStorage.getItem("user_id")||""),[n,s]=R.useState([]),[i,o]=R.useState(""),[a,u]=R.useState(null),[c,d]=R.useState("Current User"),[h,p]=R.useState(""),[v,y]=R.useState(!1),w=R.useRef(null),j=R.useRef(null),g=R.useRef(null),m=_=>{if(!_)return!1;try{const T=new URL(_);return/\.(apng|avif|bmp|gif|heic|heif|ico|jpeg|jpg|png|svg|tif|tiff|webp)(\?.*)?$/i.test(T.pathname)}catch{return!1}},f="chat-uploads";R.useEffect(()=>{const _=()=>{const T=localStorage.getItem("current_user_id")||localStorage.getItem("public_id")||localStorage.getItem("logged_in_email")||localStorage.getItem("user_id")||"";T!==e&&(r(T),s([]),u(null),o(""))};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[e]);const x=async _=>{if(!_)return null;if(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(_))return _;const{data:O,error:A}=await V.from("users").select("id").or(`username.eq.${_},email.eq.${_}`).maybeSingle();return A||!O?null:O.id};R.useEffect(()=>{(async()=>{const T=await x(e);if(!T)return;const{data:O}=await V.from("users").select("full_name, username").eq("id",T).maybeSingle();O&&d(O.full_name||O.username||"Current User")})()},[e]),R.useEffect(()=>(window.handleSelectConversation=I,()=>{window.handleSelectConversation=void 0}),[]),R.useEffect(()=>{w.current&&w.current.scrollIntoView({behavior:"auto"})},[n]),R.useEffect(()=>{if(j.current&&(j.current.unsubscribe(),j.current=null),!i)return;const _=V.channel(`messages:${i}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`conversation_id=eq.${i}`},async T=>{try{const O=T.new,A=await x(e),k={id:O.id,text:O.message_text??O.message??O.content??"",time:new Date(O.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),sender:O.sender_id===A?"user":"other"};s(P=>{if(P.some(L=>L.id===k.id))return P;const N=(()=>{for(let L=P.length-1;L>=0;L--){const D=P[L];if(D.id.startsWith("temp-")&&D.sender==="user"&&D.text===k.text)return L}return-1})();if(N!==-1){const L=P.slice();return L[N]=k,L}return[...P,k]})}catch(O){console.error("[realtime messages] insert handler error",O)}});return j.current=_,_.subscribe(T=>{console.debug("[realtime messages] channel status",T)}),()=>{_.unsubscribe(),j.current===_&&(j.current=null)}},[i,e]);const C=async _=>{const{data:T,error:O}=await V.from("users").select("full_name, username").eq("id",_).maybeSingle();if(O)throw O;return{name:(T==null?void 0:T.full_name)||(T==null?void 0:T.username)||"Unknown User"}},b=async _=>{try{const T=await x(e),{data:O,error:A}=await V.from("messages").select("id, message_text, created_at, sender_id, conversation_id").eq("conversation_id",_).order("created_at",{ascending:!0});if(A)throw A;console.log("Raw message data:",O);const k=(O??[]).map(P=>({id:P.id,text:P.message_text??"",time:new Date(P.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),sender:P.sender_id===T?"user":"other"}));if(s(k),a&&k.length){const P=k[k.length-1],N=m(P.text)?"Sent a photo":P.text,L=P.sender==="user"?`You, ${N}`:N;u({...a,lastMessage:L,time:P.time})}}catch(T){console.error("fetchLatestMessages error:",T)}},S=async _=>{const T=await x(e);if(!T)throw new Error("Current user not resolved");const{data:O,error:A}=await V.from("conversations").select("conversation_id, participant1_id, participant2_id").or(`and(participant1_id.eq.${T},participant2_id.eq.${_}),and(participant1_id.eq.${_},participant2_id.eq.${T})`).maybeSingle();if(A&&A.code!=="PGRST116")throw A;if(O!=null&&O.conversation_id)return{conversationId:O.conversation_id,created:!1};const{data:k,error:P}=await V.from("conversations").insert({participant1_id:T,participant2_id:_}).select("conversation_id").single();if(P)throw P;return{conversationId:k.conversation_id,created:!0}},I=async _=>{try{let T=null,O=null;const A=await x(e);if(!A)return;const{data:k}=await V.from("conversations").select("conversation_id, participant1_id, participant2_id").eq("conversation_id",_).maybeSingle();if(k!=null&&k.conversation_id?(T=k.conversation_id,O=k.participant1_id===A?k.participant2_id:k.participant1_id):(O=_,T=(await S(O)).conversationId),!T||!O)return;const{name:P}=await C(O);o(T),u({id:T,otherUserId:O,name:P,avatar:"",lastMessage:"Loading messages...",time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),unread:0}),await b(T)}catch(T){console.error("Error in handleSelectConversation:",T)}},z=async _=>{try{if(!a||!a.otherUserId)return;const T=await x(e);if(!T)return;const O={message:_,sender_id:T,sender_name:c,receiver_id:a.otherUserId,receiver_name:a.name,conversation_id:i,image_url:_};console.debug("[sendWebhookMessage] URL and payload",{url:"https://primary-production-6722.up.railway.app/webhook/dd88723f-330f-48e7-9818-4f578f952def",payload:O});const A=await fetch("https://primary-production-6722.up.railway.app/webhook/dd88723f-330f-48e7-9818-4f578f952def",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(O)});if(!A.ok){const N=await A.text().catch(()=>"");throw console.error("[sendWebhookMessage] non-OK response",A.status,N),new Error(`Failed: ${A.status}`)}const k=await A.json().catch(()=>({}));console.debug("[sendWebhookMessage] success",k);const P=k.conversation_id||i;P&&P!==i&&o(P)}catch(T){console.error("sendWebhookMessage error:",T)}},U=_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),re())},re=async()=>{const _=h.trim();if(!_)return;const T=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),O={id:`temp-${Date.now()}`,text:_,time:T,sender:"user"};if(console.debug("[sendMessage] start",{hasActiveConv:!!a,activeConversationId:i,otherUserId:a==null?void 0:a.otherUserId}),s(A=>[...A,O]),a&&u({...a,lastMessage:`You, ${_}`,time:"Just now"}),p(""),a!=null&&a.otherUserId&&!i){const A=await S(a.otherUserId);A.conversationId!==i&&o(A.conversationId)}console.debug("[sendMessage] calling webhook"),await z(_)},st=()=>{g.current&&g.current.click()},_e=async _=>{var O;const T=(O=_.target.files)==null?void 0:O[0];if(T){_.target.value="";try{if(!a||!a.otherUserId)return;const A=await x(e);if(!A)return;if(!i){const ce=await S(a.otherUserId);ce.conversationId!==i&&o(ce.conversationId)}y(!0);const k=f,P=Date.now(),N=T.name.replace(/[^a-zA-Z0-9._-]/g,"_"),L=`${A}/${P}_${N}`,{error:D}=await V.storage.from(k).upload(L,T,{upsert:!1,cacheControl:"3600",contentType:T.type});if(D)throw D;const{data:ke}=V.storage.from(k).getPublicUrl(L),oe=ke.publicUrl,Ke=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),ee={id:`temp-${Date.now()}`,text:oe,time:Ke,sender:"user"};s(ce=>[...ce,ee]),a&&u({...a,lastMessage:"You, Sent a photo",time:"Just now"}),await z(oe)}catch(A){console.error("[upload image] error",A);const k=A instanceof Error?A.message:String(A);k.toLowerCase().includes("bucket")&&k.toLowerCase().includes("not found")&&alert(`Image upload bucket not found.

Please create a public Supabase Storage bucket named "${f}" and try again.
Supabase Dashboard -> Storage -> Create bucket -> Name: ${f} -> Public.`)}finally{y(!1)}}};return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-50",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsx("div",{className:"flex items-center cursor-pointer",onClick:()=>t("main"),children:l.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Messages"})}),l.jsx("button",{onClick:()=>t("main"),className:"text-gray-600 hover:text-primary transition-colors",children:"Back to Home"})]})})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:l.jsxs("div",{className:"flex bg-white rounded-lg shadow-lg overflow-hidden",style:{height:"calc(100vh - 120px)"},children:[l.jsx("div",{className:"w-1/3 border-r border-gray-200",children:l.jsx(X0,{onSelectConversation:I,selectedConversationId:a==null?void 0:a.id})}),l.jsxs("div",{className:"w-2/3 flex flex-col",children:[l.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center",children:[a!=null&&a.avatar?l.jsx("img",{src:a.avatar,alt:a==null?void 0:a.name,className:"h-10 w-10 rounded-full object-cover"}):l.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:l.jsx(ct,{className:"h-5 w-5 text-gray-500"})}),l.jsx("div",{className:"ml-3",children:l.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:(a==null?void 0:a.name)||"Select a chat"})})]}),l.jsx("button",{className:"text-gray-500 hover:text-gray-700",children:l.jsx(cm,{className:"h-5 w-5"})})]}),l.jsxs("div",{className:"flex-1 p-4 overflow-y-auto no-anim",style:{height:"calc(100vh - 264px)"},children:[n.map(_=>l.jsxs("div",{className:`mb-4 flex ${_.sender==="user"?"justify-end":"justify-start"}`,children:[_.sender==="other"&&l.jsx("div",{className:"mr-2",children:a!=null&&a.avatar?l.jsx("img",{src:a.avatar,alt:a==null?void 0:a.name,className:"h-8 w-8 rounded-full object-cover"}):l.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center",children:l.jsx(ct,{className:"h-4 w-4 text-gray-500"})})}),l.jsxs("div",{className:`max-w-xs px-4 py-2 rounded-lg ${_.sender==="user"?"bg-primary text-white":"bg-gray-100 text-gray-800"}`,children:[m(_.text)?l.jsx("a",{href:_.text,target:"_blank",rel:"noreferrer",children:l.jsx("img",{src:_.text,alt:"sent image",className:"max-h-64 max-w-full rounded-md mb-1"})}):l.jsx("p",{className:"text-sm break-words whitespace-pre-wrap",children:_.text}),l.jsx("p",{className:`text-xs mt-1 ${_.sender==="user"?"text-primary-light":"text-gray-500"}`,children:_.time})]})]},_.id)),l.jsx("div",{ref:w}),!n.length&&l.jsx("div",{className:"h-full w-full flex items-center justify-center text-sm text-gray-400",children:a?"No messages yet. Say hi!":"Select a conversation"})]}),l.jsx("div",{className:"p-4 border-t border-gray-200",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("button",{className:"text-gray-500 hover:text-gray-700 mr-2 disabled:opacity-50",onClick:st,disabled:!a||v,title:v?"Uploading…":"Attach image",children:l.jsx(dm,{className:"h-5 w-5"})}),l.jsxs("div",{className:"flex-1 relative",children:[l.jsx("textarea",{value:h,onChange:_=>p(_.target.value),onKeyPress:U,placeholder:"Type a message...",className:"w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent resize-none",rows:1}),l.jsx("button",{className:"absolute right-3 top-2 text-gray-500 hover:text-gray-700",children:l.jsx(mm,{className:"h-5 w-5"})})]}),l.jsx("button",{onClick:re,className:"ml-2 bg-primary text-white p-2 rounded-full hover:bg-primary-dark transition-colors disabled:opacity-50",disabled:!h.trim()||!a||v,children:l.jsx(hm,{className:"h-5 w-5"})}),l.jsx("input",{ref:g,type:"file",accept:"image/*",className:"hidden",onChange:_e})]})})]})]})})]})},ev=({publicId:t})=>{const[e,r]=R.useState(null),[n,s]=R.useState(!0),[i,o]=R.useState(null),{navigateTo:a}=Xr(),[u,c]=R.useState(null),[d,h]=R.useState(!1);R.useEffect(()=>{let f=!0;return(async()=>{s(!0),o(null),r(null);const C=t||(()=>{try{return localStorage.getItem("public_id")||localStorage.getItem("logged_in_email")||""}catch{return""}})();if(!C){o("No public ID provided."),s(!1);return}try{const{data:b,error:S}=await V.rpc("get_public_profile",{p_public_id:C});if(!f)return;let I=null;if(S?o(S.message):b&&(Array.isArray(b)?b.length>0&&(I=b[0]):I=b),!I){let z="";if(typeof C=="string"&&C.includes("@"))z=C;else try{z=localStorage.getItem("logged_in_email")||""}catch{}if(z){const{data:U,error:re}=await V.from("users").select("email, full_name, username, phone_number, user_type").eq("email",z).maybeSingle();if(!f)return;!re&&U&&(I={email:U.email??null,full_name:U.full_name??null,username:U.username??null,phone_number:U.phone_number??null,user_type:U.user_type??null},o(null))}}if(I){r(I);try{const z=localStorage.getItem("avatar_url");c((I==null?void 0:I.avatar_url)||z||null),I!=null&&I.username&&localStorage.setItem("username",I.username),I!=null&&I.full_name&&localStorage.setItem("full_name",I.full_name)}catch{}}else S||o("No profile data returned.")}catch(b){if(!f)return;const S=b instanceof Error?b.message:"Failed to load profile.";o(S)}finally{f&&s(!1)}})(),()=>{f=!1}},[t]);const p=async f=>{var C;const x=(C=f.target.files)==null?void 0:C[0];if(x){h(!0);try{const b=new FileReader;b.onload=()=>{const S=b.result;c(S);try{localStorage.setItem("avatar_url",S)}catch{}},b.readAsDataURL(x)}finally{h(!1)}}},v=f=>f==null?"—":f>=1e3?`${(f/1e3).toFixed(1)}K`:String(f),y=(e==null?void 0:e.full_name)||(e==null?void 0:e.username)||"—",w=e!=null&&e.username?`@${e.username}`:(e==null?void 0:e.email)||"",j=e!=null&&e.supporters?Number(e.supporters):void 0,g=(e==null?void 0:e.posts)??void 0,m=(e==null?void 0:e.rating)??void 0;return l.jsxs("div",{className:"profile-layout",children:[l.jsxs("aside",{className:"profile-sidebar",children:[l.jsx("button",{type:"button",className:"back-btn",onClick:f=>{f.preventDefault(),a("main")},children:"← Back"}),l.jsxs("div",{className:"avatar-container",children:[u?l.jsx("img",{className:"avatar",src:u,alt:"avatar"}):l.jsx("div",{className:"avatar default-avatar","aria-label":"default avatar"}),!u&&l.jsxs("label",{className:`avatar-plus ${d?"disabled":""}`,title:"Upload avatar",children:[l.jsx("input",{type:"file",accept:"image/*",className:"hidden-file-input",onChange:p,disabled:d}),"+"]})]}),l.jsxs("div",{className:"title-block",children:[l.jsx("h2",{className:"title",children:y}),w&&l.jsx("p",{className:"subtitle",children:w})]}),n&&l.jsx("div",{className:"state info",children:"Loading profile…"}),i&&!n&&l.jsx("div",{className:"state error",children:i}),!n&&!i&&l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"bio-text",children:(e==null?void 0:e.bio)||"Share something about yourself to let your supporters know you better!"}),l.jsxs("div",{className:"stats-row",children:[l.jsxs("div",{className:"stat",children:[l.jsx("div",{className:"stat-value",children:v(j)}),l.jsx("div",{className:"stat-label",children:"Supporters"})]}),l.jsxs("div",{className:"stat",children:[l.jsx("div",{className:"stat-value",children:v(g)}),l.jsx("div",{className:"stat-label",children:"Posts"})]}),l.jsxs("div",{className:"stat",children:[l.jsx("div",{className:"stat-value",children:m??"—"}),l.jsx("div",{className:"stat-label",children:"Rating"})]})]}),l.jsxs("div",{className:"badges-row",children:[l.jsx("span",{className:"badge",children:"P"}),l.jsx("span",{className:"badge",children:"G"}),l.jsx("span",{className:"badge",children:"S"}),l.jsx("span",{className:"badge",children:"B"})]}),l.jsx("button",{className:"support-btn bg-primary",children:"Join as a Creator"}),l.jsxs("div",{className:"quick-links",children:[l.jsx("button",{className:"link-btn",children:"Settings"}),l.jsx("button",{className:"link-btn",children:"Privacy"})]})]})]}),l.jsx("main",{className:"profile-feed",children:l.jsx("button",{className:"create-post-btn",children:"+ Create New Post"})})]})},tv=({navigateTo:t})=>{const{setSelectedProfile:e}=Xr(),[r,n]=R.useState(""),[s,i]=R.useState(!1),[o,a]=R.useState([]),[u,c]=R.useState(null),d=async h=>{if(h.preventDefault(),!r.trim()){c("Please enter a search term");return}i(!0),c(null);try{const p=new AbortController,v=setTimeout(()=>p.abort(),1e4),y=await fetch("https://primary-production-6722.up.railway.app/webhook/c24cb5f2-5613-4bdb-8367-f371b65ea6da",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:r}),signal:p.signal,mode:"cors"});if(clearTimeout(v),!y.ok)throw new Error(`Search failed with status: ${y.status}`);const w=await y.json();if(w)if(Array.isArray(w)&&w.length>0){const j=w[0];if(j&&(j.username==="undefined"||j.username===void 0)&&(j.full_name==="undefined"||j.full_name===void 0)&&(j.user_type==="undefined"||j.user_type===void 0)){c("User not found"),a([]);return}a(w),w.length===0&&c("No profiles found matching your search")}else if(w.username||w.full_name){if((w.username==="undefined"||w.username===void 0)&&(w.full_name==="undefined"||w.full_name===void 0)&&(w.user_type==="undefined"||w.user_type===void 0)){c("User not found"),a([]);return}const j={id:w.username||"1",name:w.full_name||w.username||"User",avatar:w.avatar||"https://i.pravatar.cc/150",category:w.user_type||"User",supporters:w.supporters||"0",rating:w.rating||4.5,bio:w.bio||`${w.full_name||"User"}'s profile`};a([j])}else if(Array.isArray(w.profiles)){if(w.profiles.length>0){const j=w.profiles[0];if(j&&Object.values(j).every(g=>g==="undefined"||g===void 0)){c("User not found"),a([]);return}}a(w.profiles),w.profiles.length===0&&c("No profiles found matching your search")}else console.error("Unexpected response format:",w),c("No matching profiles found"),a([]);else c("No data received from server"),a([])}catch(p){console.error("Search error:",p),c("Failed to search profiles. Please try again later."),a([])}finally{i(!1)}};return l.jsxs("div",{className:"search-profile bg-background text-gray-900 min-h-screen flex flex-col relative pt-16",children:[l.jsx("header",{className:"bg-white shadow-sm py-4 px-4 fixed top-0 left-0 right-0 z-50",children:l.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[l.jsx("div",{className:"text-primary font-bold text-xl",children:"ConnectLove"}),l.jsx("div",{className:"flex items-center space-x-4 w-full max-w-md",children:l.jsxs("form",{onSubmit:d,className:"relative w-full",children:[l.jsx("input",{type:"text",placeholder:"Search profiles...",className:"bg-gray-100 rounded-full py-2 px-4 pr-10 w-full focus:outline-none focus:ring-2 focus:ring-primary text-sm",value:r,onChange:h=>n(h.target.value)}),l.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-primary",disabled:s,children:l.jsx(dr,{className:"h-5 w-5"})})]})}),l.jsx("div",{className:"flex items-center space-x-4",children:l.jsx("button",{onClick:()=>t("main"),className:"text-primary hover:text-primary-dark",children:"Back to Home"})})]})}),l.jsxs("main",{className:"flex-1 max-w-6xl mx-auto w-full px-4 py-6",children:[s&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Searching profiles..."})]}),u&&!s&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md mb-6",children:u}),!s&&o.length>0&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Search Results"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(h=>l.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("img",{src:h.avatar||"https://i.pravatar.cc/150",alt:h.name,className:"w-16 h-16 rounded-full object-cover mr-4"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-lg",children:h.name}),h.category&&l.jsx("p",{className:"text-sm text-gray-600",children:h.category}),h.rating&&l.jsxs("div",{className:"flex items-center text-yellow-400",children:[l.jsx("span",{className:"text-xs mr-1",children:"★"}),l.jsx("span",{className:"text-xs",children:h.rating})]})]})]}),h.bio&&l.jsx("p",{className:"mt-3 text-sm text-gray-700",children:h.bio}),h.supporters&&l.jsxs("p",{className:"mt-2 text-xs text-gray-500",children:[h.supporters," supporters"]}),l.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100 flex justify-between",children:l.jsx("button",{className:"text-primary hover:text-primary-dark text-sm font-medium",onClick:()=>{let p=!1;try{const v=localStorage.getItem("public_id")||"",y=localStorage.getItem("logged_in_email")||"",w=localStorage.getItem("username")||"",j=[v,y,w].filter(Boolean).map(m=>String(m).toLowerCase()),g=[h.id,h.name].filter(Boolean).map(m=>String(m).toLowerCase());p=j.some(m=>g.includes(m))}catch{p=!1}if(p){t("profile");return}e({name:h.name,username:h.id,avatar:h.avatar,bio:h.bio,supporters:h.supporters,rating:h.rating}),t("creator")},children:"View Profile"})})]})},h.id))})]}),!s&&o.length===0&&!u&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(dr,{className:"h-16 w-16 mx-auto text-gray-300"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Search for profiles to connect with"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Enter a name, location, or interest"})]})]})]})};function rv(){const{currentPage:t,userType:e,navigateTo:r,setUserTypeValue:n}=Xr(),s=()=>l.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-50",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsxs("div",{className:"flex items-center cursor-pointer",onClick:()=>r("landing"),children:[l.jsx($t,{className:"h-8 w-8 text-primary mr-2"}),l.jsx("span",{className:"text-xl font-bold text-gray-900",children:"ConnectLove"})]}),l.jsxs("nav",{className:"hidden md:flex space-x-8",children:[l.jsx("a",{href:"#",className:"text-gray-600 hover:text-primary transition-colors",children:"Features"}),l.jsx("a",{href:"#",className:"text-gray-600 hover:text-primary transition-colors",children:"How it Works"}),l.jsx("a",{href:"#",className:"text-gray-600 hover:text-primary transition-colors",children:"Pricing"})]}),l.jsx("button",{onClick:()=>r("signin"),className:"bg-primary text-white px-6 py-2 rounded-full hover:bg-primary-dark transition-colors",children:"Sign In"})]})})}),i=()=>l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(s,{}),l.jsx("section",{className:"py-20 bg-gradient-to-br from-background to-light-accent",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-gray-900 mb-6",children:["Connect ",l.jsx("span",{className:"text-primary",children:"Creators"})," and"," ",l.jsx("span",{className:"text-primary",children:"Supporters"})]}),l.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"A vibrant online platform where creative minds meet their biggest fans. Build meaningful connections through shared passions and mutual support."}),l.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:l.jsx("button",{onClick:()=>{n("supporter"),r("signup")},className:"bg-white text-primary border-2 border-primary px-8 py-4 rounded-full text-lg font-semibold hover:bg-primary hover:text-white transform hover:scale-105 transition-all",children:"Join as Supporter"})})]})}),l.jsx("section",{className:"py-20 bg-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Why Choose ConnectLove?"}),l.jsx("p",{className:"text-xl text-gray-600 mb-16",children:"Experience dating differently with our unique approach"}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"bg-background p-8 rounded-2xl shadow-lg hover:shadow-xl transition-shadow",children:[l.jsx(um,{className:"h-16 w-16 text-primary mx-auto mb-6"}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Real Time Messaging"}),l.jsx("p",{className:"text-gray-600",children:"Connect instantly with our seamless chat system. Share your thoughts, dreams, and create meaningful conversations."})]}),l.jsxs("div",{className:"bg-background p-8 rounded-2xl shadow-lg hover:shadow-xl transition-shadow",children:[l.jsx(gm,{className:"h-16 w-16 text-primary mx-auto mb-6"}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Creator Supporter Matching"}),l.jsx("p",{className:"text-gray-600",children:"Our unique system connects talented creators with those who appreciate and want to support their journey."})]}),l.jsxs("div",{className:"bg-background p-8 rounded-2xl shadow-lg hover:shadow-xl transition-shadow",children:[l.jsx(pm,{className:"h-16 w-16 text-primary mx-auto mb-6"}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Safe & Secure"}),l.jsx("p",{className:"text-gray-600",children:"Your privacy and safety are our top priorities. Secure and verified profiles ensure a trustworthy experience."})]})]})]})}),l.jsx("section",{className:"py-20 bg-background",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsx("h2",{className:"text-4xl font-bold text-gray-900 text-center mb-4",children:"How It Works"}),l.jsx("p",{className:"text-xl text-gray-600 text-center mb-16",children:"Simple steps to find your perfect match"}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[l.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg",children:[l.jsx("h3",{className:"text-2xl font-bold text-primary mb-8",children:"For Creators"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"bg-primary text-white rounded-full w-8 h-8 flex items-center justify-center mr-4 mt-1",children:"1"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Create Your Profile"}),l.jsx("p",{className:"text-gray-600",children:"Showcase your creative work, interests, and personality"})]})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"bg-primary text-white rounded-full w-8 h-8 flex items-center justify-center mr-4 mt-1",children:"2"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Share Messages"}),l.jsx("p",{className:"text-gray-600",children:"Get messages from supporters who appreciate your work and interests"})]})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"bg-primary text-white rounded-full w-8 h-8 flex items-center justify-center mr-4 mt-1",children:"3"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Build Connections"}),l.jsx("p",{className:"text-gray-600",children:"Connect and communicate with those who share your vision"})]})]})]})]}),l.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg",children:[l.jsx("h3",{className:"text-2xl font-bold text-primary mb-8",children:"For Supporters"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"bg-primary text-white rounded-full w-8 h-8 flex items-center justify-center mr-4 mt-1",children:"1"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Browse Creators"}),l.jsx("p",{className:"text-gray-600",children:"Discover amazing creative minds and their incredible work"})]})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"bg-primary text-white rounded-full w-8 h-8 flex items-center justify-center mr-4 mt-1",children:"2"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Send Messages"}),l.jsx("p",{className:"text-gray-600",children:"Reach out and start conversations with creators you admire"})]})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"bg-primary text-white rounded-full w-8 h-8 flex items-center justify-center mr-4 mt-1",children:"3"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Get Live"}),l.jsx("p",{className:"text-gray-600",children:"Engage with creators based on shared interests and mutual support"})]})]})]})]})]})]})}),l.jsx("section",{className:"py-20 bg-white",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Ready to Find Your Perfect Match?"}),l.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Join thousands of creators and supporters who have found meaningful connections on our platform"}),l.jsx("button",{onClick:()=>r("signup"),className:"bg-primary text-white px-12 py-4 rounded-full text-xl font-semibold hover:bg-primary-dark transform hover:scale-105 transition-all",children:"Start Your Journey"})]})}),l.jsx("footer",{className:"bg-gray-900 text-white py-12",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"flex items-center justify-center mb-8",children:[l.jsx($t,{className:"h-8 w-8 text-primary mr-2"}),l.jsx("span",{className:"text-xl font-bold",children:"ConnectLove"})]}),l.jsxs("div",{className:"flex justify-center space-x-8 mb-8",children:[l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Privacy Policy"}),l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Terms of Service"}),l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Contact"})]}),l.jsx("p",{className:"text-center text-gray-400",children:" 2025 ConnectLove. All rights reserved."})]})})]}),o=()=>l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center py-12 px-4",children:l.jsx("div",{className:"max-w-md w-full",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[l.jsxs("button",{onClick:()=>r("landing"),className:"flex items-center text-primary hover:text-primary-dark transition-colors mb-8",children:[l.jsx(th,{className:"h-5 w-5 mr-2"}),"Back to Home"]}),l.jsxs("div",{className:"flex items-center justify-center mb-8",children:[l.jsx($t,{className:"h-8 w-8 text-primary mr-2"}),l.jsx("span",{className:"text-2xl font-bold text-primary",children:"ConnectLove"})]}),l.jsx("div",{className:"flex bg-background rounded-lg p-1 mb-8",children:l.jsxs("button",{onClick:()=>n("supporter"),className:`flex-1 py-3 px-4 rounded-md font-medium transition-colors ${e==="supporter"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[l.jsx($t,{className:"h-4 w-4 inline mr-2"}),"Supporter"]})}),l.jsx(Sm,{userType:e,navigateTo:r})]})})});return(()=>{const u=c=>{["landing","signin","signup","main","creator","profile","messages","search",""].includes(c)?r(c):console.warn(`Attempted to navigate to invalid page: ${c}`)};switch(t){case"landing":return l.jsx(i,{});case"signin":return l.jsx(Pm,{navigateTo:u});case"signup":return l.jsx(o,{});case"main":return l.jsx(Tm,{navigateTo:u});case"creator":return l.jsx(Y0,{navigateTo:u});case"profile":return l.jsx(ev,{});case"messages":return l.jsx(Z0,{navigateTo:u});case"search":return l.jsx(tv,{navigateTo:u});default:return l.jsx(i,{})}})()}function nv(){return l.jsx(Cm,{children:l.jsx(rv,{})})}eh(document.getElementById("root")).render(l.jsx(R.StrictMode,{children:l.jsx(nv,{})}));
